import{a as qe}from"./chunk-BXGFIL6Z.js";import{a as Ge}from"./chunk-2EVUWWIG.js";import{a as Ee,b as Pe,c as T,d as y,e as we,f as $}from"./chunk-EOV7HJLD.js";import{a as z}from"./chunk-GDKL2EOO.js";import{$ as Ve,C as j,D as De,E as Ne,F as Le,G as q,H as G,Y as ke,Z as Re,_ as Oe,aa as Be,b as Se,ba as He,c as Me,d as Fe,f as x,g as D,h as N,i as L,ia as je,j as k,ja as u,l as R,n as O,p as V,q as Ie,r as Ae,s as Te,u as B,v as xe,w as b,x as H,z as S}from"./chunk-BDPFLN4K.js";import{$ as te,Ab as p,Cc as ve,Da as me,Fb as C,Hb as w,Ib as I,Ic as _e,Jb as r,Kb as a,Kc as ye,La as se,Lb as l,Nc as be,Pb as Z,S as Q,Sb as v,Ub as A,Z as ee,ab as de,bb as d,bc as fe,ca as oe,cb as h,cc as m,d as F,db as le,dc as ge,fa as _,hb as pe,ia as ie,ic as E,jc as P,na as U,nb as c,oa as Y,oc as Ce,s as J,sb as f,ta as ne,u as K,va as re,xb as ce,ya as ae,yb as ue,zb as he}from"./chunk-VAOQOUOU.js";function rt(t,i){t&1&&(r(0,"div")(1,"mat-form-field",10)(2,"mat-label"),m(3,"Id"),a(),l(4,"input",11),a()())}function at(t,i){t&1&&(r(0,"mat-error"),m(1,"Nome \xE9 "),r(2,"strong"),m(3,"requerido"),a()())}function mt(t,i){t&1&&(r(0,"mat-error"),m(1,"Nome deve ter no m\xEDnimo 3 caracteres"),a())}function st(t,i){t&1&&(r(0,"mat-error"),m(1,"Descri\xE7\xE3o \xE9 "),r(2,"strong"),m(3,"requerida"),a()())}var W=(()=>{class t{constructor(e,o,n,s){this.categoriaService=e,this.form=o,this.router=n,this.routeActive=s,this.showLoading=!1,this.categoriaForm=this.form.group({id:[null],nome:["",[D.required,D.minLength(3)]],descricao:["",[D.required]]})}ngOnInit(){this.routeActive!==void 0&&this.routeActive!==null&&this.routeActive.snapshot!==void 0&&this.routeActive.snapshot!==null&&this.routeActive.snapshot.paramMap!==void 0&&this.routeActive.snapshot.paramMap!==null&&this.routeActive.snapshot.paramMap.get("id")!==void 0&&this.routeActive.snapshot.paramMap.get("id")!==null&&this.categoriaService.pegar(Number(this.routeActive.snapshot.paramMap.get("id"))).subscribe(e=>{if(e!=null){let o=e;this.categoriaForm.setValue({id:o.id,nome:o.nome,descricao:o.descricao}),this.categoriaForm.get("id")?.disable()}})}onSubmit(){console.log("Submit",this.categoriaForm.value),this.onSave(this.convertFormBuilderGroupToCategoria())}convertFormBuilderGroupToCategoria(){this.categoriaForm.get("id")?.enable();let e=this.categoriaForm.value;return this.categoriaForm.get("id")?.disable(),{id:e.id??0,nome:e.nome||"",descricao:e.descricao||""}}onSave(e){return F(this,null,function*(){this.showLoading=!0;let o=yield J(this.categoriaService.salvar(e));console.log("Categoria salva: ",o),this.showLoading=!1,this.router.navigate(["/categorias"])})}cancelar(){this.router.navigate(["/categorias"])}static{this.\u0275fac=function(o){return new(o||t)(h(qe),h(V),h(y),h(Pe))}}static{this.\u0275cmp=c({type:t,selectors:[["app-cad-categoria"]],decls:25,vars:7,consts:[["novalidate","",3,"ngSubmit","formGroup"],[4,"ngIf"],[1,"container"],[1,"item-30"],["matInput","","formControlName","nome"],[1,"item-70"],["matInput","","formControlName","descricao"],["mat-raised-button","","color","primary","type","submit",2,"margin-right","8px !important",3,"disabled"],["type","button","mat-raised-button","","color","primary",3,"click"],[3,"visible"],[1,"item-20"],["matInput","","formControlName","id"]],template:function(o,n){if(o&1&&(r(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),m(3,"Categoria"),a()(),r(4,"mat-card-content")(5,"form",0),v("ngSubmit",function(){return n.onSubmit()}),r(6,"div"),f(7,rt,5,0,"div",1),r(8,"div",2)(9,"mat-form-field",3)(10,"mat-label"),m(11,"Nome"),a(),l(12,"input",4),f(13,at,4,0,"mat-error")(14,mt,2,0,"mat-error"),a(),r(15,"mat-form-field",5)(16,"mat-label"),m(17,"Descri\xE7\xE3o"),a(),l(18,"input",6),f(19,st,4,0,"mat-error"),a()()(),r(20,"button",7),m(21," Salvar "),a(),r(22,"button",8),v("click",function(){return n.cancelar()}),m(23," Cancelar "),a()()(),l(24,"app-loading-bar",9),a()),o&2){let s;d(5),p("formGroup",n.categoriaForm),d(2),p("ngIf",((s=n.categoriaForm.get("id"))==null?null:s.value)!==null),d(6),C(n.categoriaForm.controls.nome.hasError("required")?13:-1),d(),C(n.categoriaForm.controls.nome.hasError("minlength")?14:-1),d(5),C(n.categoriaForm.controls.descricao.hasError("required")?19:-1),d(),p("disabled",!n.categoriaForm.valid),d(4),p("visible",n.showLoading)}},dependencies:[Ie,k,x,N,L,R,O,u,B,G,q,Ne,Le,b,S,j,H,_e,$],styles:[".mat-mdc-card-title[_ngcontent-%COMP%]{margin-bottom:10px!important}.mat-mdc-card-content[_ngcontent-%COMP%]{padding-bottom:16px}"]})}}return t})();var Ue=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=c({type:t,selectors:[["app-venda"]],decls:6,vars:0,template:function(o,n){o&1&&(r(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),m(3," Simulador Venda - Produtos Dispon\xEDveis "),a()(),r(4,"mat-card-content"),l(5,"router-outlet"),a()())},dependencies:[u,b,S,j,H,T],encapsulation:2})}}return t})();var dt=(t,i)=>i.id,lt=()=>[import("./chunk-EQXR5SM4.js").then(t=>t.ProdutoCardComponent)];function pt(t,i){if(t&1&&l(0,"app-produto-card",8),t&2){let e=A().$implicit;p("produto",e)}}function ct(t,i){t&1&&(r(0,"span"),m(1,"Carregando..."),a())}function ut(t,i){t&1&&(r(0,"span"),m(1,"Carregando..."),a())}function ht(t,i){t&1&&(f(0,pt,1,1)(1,ct,2,0)(2,ut,2,0),ce(3,0,lt,1,2),ue(0,-1))}function ft(t,i){t&1&&(r(0,"p"),m(1,"Nenhum produto encontrado."),a())}var Ye=(()=>{class t{constructor(e,o,n){this.produtoService=e,this.vendaService=o,this.form=n,this.showLoading=!1,this.searchForm=this.form.group({searchTerm:[""]})}ngOnInit(){this.showLoading=!0,this.getProdutos().then(()=>{this.showLoading=!1},e=>{console.log("Erro ao carregar Produtos: "+e),this.showLoading=!1})}getProdutos(){return F(this,null,function*(){this.produtos=yield this.produtoService.getProdutosComFiltro(this.searchForm?.value?.searchTerm).toPromise()})}onSearch(){return F(this,null,function*(){this.showLoading=!0,this.getProdutos().then(()=>{this.showLoading=!1},e=>{this.showLoading=!1,console.log("Erro ao carregar Produtos: "+e)})})}onAddToCart(e){let o={produtoId:e.id,descricao:e.descricao,qtdeEstoque:e.qtdeEstoque,quantidade:1,precoUnitario:e.precoUnitario};this.vendaService.addItem(o)}static{this.\u0275fac=function(o){return new(o||t)(h(Ge),h(z),h(V))}}static{this.\u0275cmp=c({type:t,selectors:[["app-produto-lista"]],decls:15,vars:3,consts:[["novalidate","",3,"ngSubmit","formGroup"],[1,"container"],[1,"width-full"],["matInput","","placeholder","Produtos","formControlName","searchTerm"],[1,"pt-10"],["mat-button","","type","submit"],[1,"container","wrap"],[3,"visible"],[3,"produto"]],template:function(o,n){o&1&&(r(0,"mat-card")(1,"mat-card-content")(2,"form",0),v("ngSubmit",function(){return n.onSearch()}),r(3,"div")(4,"div",1)(5,"mat-form-field",2),l(6,"input",3),a(),r(7,"div",4)(8,"button",5),m(9,"Pesquisar"),a()()()()(),r(10,"div",6),w(11,ht,5,0,null,null,dt),f(13,ft,2,0,"p"),a()(),l(14,"app-loading-bar",7),a()),o&2&&(d(2),p("formGroup",n.searchForm),d(9),I(n.produtos),d(2),C(!n.produtos||n.produtos.length===0?13:-1),d(),p("visible",n.showLoading))},dependencies:[u,B,G,q,k,x,N,L,R,O,b,S,$],styles:[".mat-mdc-card-content[_ngcontent-%COMP%]{padding-bottom:16px}"]})}}return t})();var Ze=[{path:"categorias",loadComponent:()=>import("./chunk-NAMKWAXN.js").then(t=>t.CategoriasComponent)},{path:"cad-categoria",component:W},{path:"cad-categoria-edit/:id",component:W},{path:"fornecedores",loadComponent:()=>import("./chunk-XA3KHHCM.js").then(t=>t.FornecedoresComponent)},{path:"cad-fornecedor",loadComponent:()=>import("./chunk-323ZBF37.js").then(t=>t.CadFornecedorComponent)},{path:"cad-fornecedor-edit/:id",loadComponent:()=>import("./chunk-323ZBF37.js").then(t=>t.CadFornecedorComponent)},{path:"produtos",loadComponent:()=>import("./chunk-RYTCIQGY.js").then(t=>t.ProdutosComponent)},{path:"cad-produto",loadComponent:()=>import("./chunk-B7E2LULX.js").then(t=>t.CadProdutoComponent)},{path:"cad-produto-edit/:id",loadComponent:()=>import("./chunk-B7E2LULX.js").then(t=>t.CadProdutoComponent)},{path:"checkout",loadComponent:()=>import("./chunk-IYGF65JX.js").then(t=>t.CheckoutComponent)},{path:"",component:Ue,children:[{path:"",component:Ye}]}];var gt="@",Ct=(()=>{class t{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=_(ne);loadingSchedulerFn=_(vt,{optional:!0});_engine;constructor(e,o,n,s,g){this.doc=e,this.delegate=o,this.zone=n,this.animationType=s,this.moduleImpl=g}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-WQ3OLYVX.js").then(n=>n),o;return this.loadingSchedulerFn?o=this.loadingSchedulerFn(e):o=e(),o.catch(n=>{throw new ee(5300,!1)}).then(({\u0275createEngine:n,\u0275AnimationRendererFactory:s})=>{this._engine=n(this.animationType,this.doc);let g=new s(this.delegate,this._engine,this.zone);return this.delegate=g,g})}createRenderer(e,o){let n=this.delegate.createRenderer(e,o);if(n.\u0275type===0)return n;typeof n.throwOnSyntheticProps=="boolean"&&(n.throwOnSyntheticProps=!1);let s=new X(n);return o?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(g=>{let et=g.createRenderer(e,o);s.use(et),this.scheduler??=this.injector.get(re,null,{optional:!0}),this.scheduler?.notify(11)}).catch(g=>{s.use(n)}),s}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(e){this._engine?.flush(),this.delegate.componentReplaced?.(e)}static \u0275fac=function(o){le()};static \u0275prov=te({token:t,factory:t.\u0275fac})}return t})(),X=class{delegate;replay=[];\u0275type=1;constructor(i){this.delegate=i}use(i){if(this.delegate=i,this.replay!==null){for(let e of this.replay)e(i);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(i,e){return this.delegate.createElement(i,e)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}get destroyNode(){return this.delegate.destroyNode}appendChild(i,e){this.delegate.appendChild(i,e)}insertBefore(i,e,o,n){this.delegate.insertBefore(i,e,o,n)}removeChild(i,e,o){this.delegate.removeChild(i,e,o)}selectRootElement(i,e){return this.delegate.selectRootElement(i,e)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,e,o,n){this.delegate.setAttribute(i,e,o,n)}removeAttribute(i,e,o){this.delegate.removeAttribute(i,e,o)}addClass(i,e){this.delegate.addClass(i,e)}removeClass(i,e){this.delegate.removeClass(i,e)}setStyle(i,e,o,n){this.delegate.setStyle(i,e,o,n)}removeStyle(i,e,o){this.delegate.removeStyle(i,e,o)}setProperty(i,e,o){this.shouldReplay(e)&&this.replay.push(n=>n.setProperty(i,e,o)),this.delegate.setProperty(i,e,o)}setValue(i,e){this.delegate.setValue(i,e)}listen(i,e,o,n){return this.shouldReplay(e)&&this.replay.push(s=>s.listen(i,e,o,n)),this.delegate.listen(i,e,o,n)}shouldReplay(i){return this.replay!==null&&i.startsWith(gt)}},vt=new oe("");function We(t="animations"){return me("NgAsyncAnimations"),ie([{provide:pe,useFactory:(i,e,o)=>new Ct(i,e,o,t),deps:[ve,Me,ae]},{provide:se,useValue:t==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Xe={providers:[Ce({eventCoalescing:!0}),we(Ze),We(),Se()]};var yt=(t,i)=>i.path;function bt(t,i){if(t&1&&(r(0,"a",0),m(1),a()),t&2){let e=i.$implicit;p("href",e.path,de),d(),ge(e.label)}}var Je=(()=>{class t{constructor(){this.menuItems=[{path:"",label:"Simula\xE7\xE3o Vendas"},{path:"categorias",label:"Categorias"},{path:"fornecedores",label:"Fornecedores"},{path:"produtos",label:"Produtos"}]}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=c({type:t,selectors:[["app-menu"]],decls:2,vars:0,consts:[["mat-list-item","",3,"href"]],template:function(o,n){o&1&&w(0,bt,2,2,"a",0,yt),o&2&&I(n.menuItems)},dependencies:[u,Be],encapsulation:2})}}return t})();function St(t,i){if(t&1){let e=Z();r(0,"button",9),v("click",function(){U(e),A();let n=fe(2);return Y(n.toggle())}),r(1,"mat-icon",10),m(2,"menu"),a()()}}var Ke=(()=>{class t{constructor(){this.breakpointObserver=_(Ae),this.vendaService=_(z),this.router=_(y),this.isHandset$=this.breakpointObserver.observe(Te.Handset).pipe(K(e=>e.matches),Q())}navegarParaCheckout(){this.router.navigate(["/checkout"])}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=c({type:t,selectors:[["app-home"]],decls:22,vars:13,consts:[["drawer",""],[1,"sidenav-container"],["fixedInViewport","",1,"sidenav",3,"mode","opened"],["color","primary",2,"position","relative !important"],["type","button","aria-label","Toggle sidenav","mat-icon-button",""],[1,"width-full"],["mat-icon-button","",3,"click"],["matBadgeColor","warn",3,"matBadge"],[1,"m-10"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Side nav toggle icon"]],template:function(o,n){if(o&1){let s=Z();r(0,"mat-sidenav-container",1)(1,"mat-sidenav",2,0),E(3,"async"),E(4,"async"),E(5,"async"),r(6,"mat-toolbar"),m(7,"Menu"),a(),r(8,"mat-nav-list"),l(9,"app-menu"),a()(),r(10,"mat-sidenav-content")(11,"mat-toolbar",3),f(12,St,3,0,"button",4),E(13,"async"),r(14,"span"),m(15,"Simulador Vendas App"),a(),l(16,"div",5),r(17,"button",6),v("click",function(){return U(s),Y(n.navegarParaCheckout())}),r(18,"mat-icon",7),m(19," shopping_cart "),a()()(),r(20,"div",8),l(21,"router-outlet"),a()()()}o&2&&(d(),p("mode",P(3,5,n.isHandset$)?"over":"side")("opened",P(4,7,n.isHandset$)===!1),he("role",P(5,9,n.isHandset$)?"dialog":"navigation"),d(11),C(P(13,11,n.isHandset$)?12:-1),d(6),p("matBadge",n.vendaService.qtdeItensNoCarrinho))},dependencies:[u,xe,De,ke,Oe,Ve,Re,He,je,ye,Je,T],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:200px}.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background:inherit}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1;--mat-toolbar-container-background-color: #3f51b5;--mat-toolbar-container-text-color: white}.mat-badge-warn[_ngcontent-%COMP%]{--mat-badge-background-color: #f44336;--mat-badge-text-color: white}.mat-mdc-icon-button[_ngcontent-%COMP%]{color:#fff!important}"]})}}return t})();var Qe=(()=>{class t{constructor(e){this.router=e}ngOnInit(){this.router.events.subscribe(e=>{e instanceof Ee&&setTimeout(()=>{this.updatePaginatorLabels()},0)})}updatePaginatorLabels(){document.querySelectorAll(".mat-mdc-paginator-page-size-label").forEach(o=>{o.innerHTML="Itens por p\xE1gina"})}static{this.\u0275fac=function(o){return new(o||t)(h(y))}}static{this.\u0275cmp=c({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(o,n){o&1&&l(0,"app-home")},dependencies:[be,u,Ke],encapsulation:2})}}return t})();Fe(Qe,Xe).catch(t=>console.error(t));
