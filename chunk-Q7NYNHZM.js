import{$ as s}from"./chunk-SVLTXY3Q.js";var u=(()=>{class a{constructor(){this.CARRINHO="carrinho",this.CARRINHO_QTDE="carrinho_qtde"}getItems(){let t=localStorage.getItem(this.CARRINHO);return t?JSON.parse(t):[]}addItem(t){let i=!1,e=this.getItems();e.forEach(o=>{if(o.produtoId===t.produtoId){if(t.qtdeEstoque!==null&&t.qtdeEstoque!==void 0&&(o.qtdeEstoque=t.qtdeEstoque),o.quantidade!==null){let r=o.qtdeEstoque===null?0:o.qtdeEstoque;o.quantidade+1<=r?o.quantidade++:alert("Sem Estoque dispon\xEDvel para o produto! Qtde Estoque: "+r)}i=!0}}),i||e.push(t),localStorage.setItem(this.CARRINHO,JSON.stringify(e)),localStorage.setItem(this.CARRINHO_QTDE,e.length.toString())}removeItem(t){let i=!1,e=this.getItems();e.forEach(r=>{r.produtoId===t.produtoId&&(r.quantidade!==null&&r.quantidade--,i=!0)});let o=e.filter(r=>r.quantidade!==null&&r.quantidade>0);localStorage.setItem(this.CARRINHO,JSON.stringify(o)),localStorage.setItem(this.CARRINHO_QTDE,o.length.toString())}get qtdeItensNoCarrinho(){return this.getItems().length}get valorTotalCarrinho(){let t=0;return this.getItems().forEach(e=>{e.precoUnitario!==null&&e.quantidade!==null&&(t+=e.precoUnitario*e.quantidade)}),t}static{this.\u0275fac=function(i){return new(i||a)}}static{this.\u0275prov=s({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();export{u as a};
