import{a as We}from"./chunk-MNPQJSQR.js";import{a as Xe}from"./chunk-5GR2HCL7.js";import{a as Ne,b as De,c as N,d as S,e as ke,f as Z}from"./chunk-ZZRUWSD2.js";import{a as F}from"./chunk-Q7NYNHZM.js";import{$ as ze,A as Ve,B as qe,C as U,D as $,E as je,F as He,G as z,H as Y,Y as Ge,Z as Ue,_ as $e,aa as Ye,b as Ae,ba as Ze,c as Te,d as xe,f as D,g as k,h as L,i as R,ia as Qe,j as O,ja as u,l as B,n as V,p as q,q as Le,r as Re,s as Oe,u as j,v as H,w as y,x as G,y as Be,z as E}from"./chunk-QGSPP7SH.js";import{$ as ae,$b as be,Ac as Se,Da as ce,Db as C,Fb as w,Gb as A,Gc as Ee,Hb as r,Ib as a,Ic as Fe,Jb as l,Jc as Ie,Kc as Pe,La as ue,Lc as we,Nb as X,Qb as f,S as ne,Sb as Ce,Z as re,ab as he,ac as d,bb as m,bc as T,ca as de,cb as h,cc as x,d as I,db as fe,fa as _,gc as b,hb as ge,hc as P,ia as me,ic as ye,jc as _e,mc as Me,na as Q,nb as c,oa as W,s as oe,sb as v,ta as se,u as ie,va as le,xb as ve,ya as pe,yb as p}from"./chunk-SVLTXY3Q.js";function ct(t,n){t&1&&(r(0,"div")(1,"mat-form-field",10)(2,"mat-label"),d(3,"Id"),a(),l(4,"input",11),a()())}function ut(t,n){t&1&&(r(0,"mat-error"),d(1,"Nome \xE9 "),r(2,"strong"),d(3,"requerido"),a()())}function ht(t,n){t&1&&(r(0,"mat-error"),d(1,"Nome deve ter no m\xEDnimo 3 caracteres"),a())}function ft(t,n){t&1&&(r(0,"mat-error"),d(1,"Descri\xE7\xE3o \xE9 "),r(2,"strong"),d(3,"requerida"),a()())}var ee=(()=>{class t{constructor(e,o,i,s){this.categoriaService=e,this.form=o,this.router=i,this.routeActive=s,this.showLoading=!1,this.categoriaForm=this.form.group({id:[null],nome:["",[k.required,k.minLength(3)]],descricao:["",[k.required]]})}ngOnInit(){this.routeActive!==void 0&&this.routeActive!==null&&this.routeActive.snapshot!==void 0&&this.routeActive.snapshot!==null&&this.routeActive.snapshot.paramMap!==void 0&&this.routeActive.snapshot.paramMap!==null&&this.routeActive.snapshot.paramMap.get("id")!==void 0&&this.routeActive.snapshot.paramMap.get("id")!==null&&this.categoriaService.pegar(Number(this.routeActive.snapshot.paramMap.get("id"))).subscribe(e=>{if(e!=null){let o=e;this.categoriaForm.setValue({id:o.id,nome:o.nome,descricao:o.descricao}),this.categoriaForm.get("id")?.disable()}})}onSubmit(){console.log("Submit",this.categoriaForm.value),this.onSave(this.convertFormBuilderGroupToCategoria())}convertFormBuilderGroupToCategoria(){this.categoriaForm.get("id")?.enable();let e=this.categoriaForm.value;return this.categoriaForm.get("id")?.disable(),{id:e.id??0,nome:e.nome||"",descricao:e.descricao||""}}onSave(e){return I(this,null,function*(){this.showLoading=!0;let o=yield oe(this.categoriaService.salvar(e));console.log("Categoria salva: ",o),this.showLoading=!1,this.router.navigate(["/categorias"])})}cancelar(){this.router.navigate(["/categorias"])}static{this.\u0275fac=function(o){return new(o||t)(h(We),h(q),h(S),h(De))}}static{this.\u0275cmp=c({type:t,selectors:[["app-cad-categoria"]],decls:25,vars:7,consts:[["novalidate","",3,"ngSubmit","formGroup"],[4,"ngIf"],[1,"container"],[1,"item-30"],["matInput","","formControlName","nome"],[1,"item-70"],["matInput","","formControlName","descricao"],["mat-raised-button","","color","primary","type","submit",2,"margin-right","8px !important",3,"disabled"],["type","button","mat-raised-button","","color","primary",3,"click"],[3,"visible"],[1,"item-20"],["matInput","","formControlName","id"]],template:function(o,i){if(o&1&&(r(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),d(3,"Categoria"),a()(),r(4,"mat-card-content")(5,"form",0),f("ngSubmit",function(){return i.onSubmit()}),r(6,"div"),v(7,ct,5,0,"div",1),r(8,"div",2)(9,"mat-form-field",3)(10,"mat-label"),d(11,"Nome"),a(),l(12,"input",4),v(13,ut,4,0,"mat-error")(14,ht,2,0,"mat-error"),a(),r(15,"mat-form-field",5)(16,"mat-label"),d(17,"Descri\xE7\xE3o"),a(),l(18,"input",6),v(19,ft,4,0,"mat-error"),a()()(),r(20,"button",7),d(21," Salvar "),a(),r(22,"button",8),f("click",function(){return i.cancelar()}),d(23," Cancelar "),a()()(),l(24,"app-loading-bar",9),a()),o&2){let s;m(5),p("formGroup",i.categoriaForm),m(2),p("ngIf",((s=i.categoriaForm.get("id"))==null?null:s.value)!==null),m(6),C(i.categoriaForm.controls.nome.hasError("required")?13:-1),m(),C(i.categoriaForm.controls.nome.hasError("minlength")?14:-1),m(5),C(i.categoriaForm.controls.descricao.hasError("required")?19:-1),m(),p("disabled",!i.categoriaForm.valid),m(4),p("visible",i.showLoading)}},dependencies:[Le,O,D,L,R,B,V,u,j,Y,z,je,He,y,E,U,G,Ee,Z],styles:[".mat-mdc-card-title[_ngcontent-%COMP%]{margin-bottom:10px!important}.mat-mdc-card-content[_ngcontent-%COMP%]{padding-bottom:16px}"]})}}return t})();var Je=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=c({type:t,selectors:[["app-venda"]],decls:6,vars:0,template:function(o,i){o&1&&(r(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),d(3," Simulador Venda - Produtos Dispon\xEDveis "),a()(),r(4,"mat-card-content"),l(5,"router-outlet"),a()())},dependencies:[u,y,E,U,G,N],encapsulation:2})}}return t})();var Ke=(()=>{class t{constructor(e){this.vendaService=e}onAddToCart(e){let o={produtoId:e.id,descricao:e.descricao,qtdeEstoque:e.qtdeEstoque,quantidade:1,precoUnitario:e.precoUnitario};this.vendaService.addItem(o)}static{this.\u0275fac=function(o){return new(o||t)(h(F))}}static{this.\u0275cmp=c({type:t,selectors:[["app-produto-card"]],inputs:{produto:"produto"},decls:21,vars:12,consts:[[2,"width","300px"],[1,"p-5"],[2,"height","65px !important"],[2,"display","flex","flex-direction","row","justify-content","space-between"],["align","start",2,"padding","0px"],["align","end",2,"padding","0px"],["mat-icon-button","",3,"click","disabled"]],template:function(o,i){o&1&&(r(0,"div",0)(1,"mat-card",1)(2,"mat-card-title-group")(3,"mat-card-subtitle"),d(4),a(),r(5,"mat-card-subtitle",2)(6,"h3"),d(7),a()(),r(8,"div")(9,"strong"),d(10),b(11,"currency"),a()()(),r(12,"div",3)(13,"mat-card-actions",4)(14,"mat-card-subtitle"),d(15),b(16,"number"),a()(),r(17,"mat-card-actions",5)(18,"button",6),f("click",function(){return i.onAddToCart(i.produto)}),r(19,"mat-icon"),d(20,"add_shopping_cart"),a()()()()()()),o&2&&(m(4),x(" ",i.produto.categoria==null?null:i.produto.categoria.nome,""),m(3),T(i.produto.descricao),m(3),x("",_e(11,5,i.produto.precoUnitario,"BRL","symbol")," "),m(5),x("Qtde Estoque: ",ye(16,9,i.produto.qtdeEstoque,"1.0-0"),""),m(3),p("disabled",i.produto.qtdeEstoque==0))},dependencies:[Pe,Ie,u,H,$,y,qe,Ve,Be],styles:["h3[_ngcontent-%COMP%]{display:block;font-size:.9em;margin-block-start:1em;margin-block-end:1em;margin-inline-start:0px;margin-inline-end:0px;font-weight:700;unicode-bidi:isolate;font:600 .9rem/1.2rem Roboto,sans-serif}"]})}}return t})();var Ct=(t,n)=>n.id;function bt(t,n){if(t&1&&l(0,"app-produto-card",7),t&2){let e=n.$implicit;p("produto",e)}}function yt(t,n){t&1&&(r(0,"p"),d(1,"Nenhum produto encontrado."),a())}var et=(()=>{class t{constructor(e,o,i){this.produtoService=e,this.vendaService=o,this.form=i,this.showLoading=!1,this.searchForm=this.form.group({searchTerm:[""]})}ngOnInit(){this.showLoading=!0,this.getProdutos().then(()=>{this.showLoading=!1},e=>{console.log("Erro ao carregar Produtos: "+e),this.showLoading=!1})}getProdutos(){return I(this,null,function*(){this.produtos=yield this.produtoService.getProdutosComFiltro(this.searchForm?.value?.searchTerm).toPromise()})}onSearch(){return I(this,null,function*(){this.showLoading=!0,this.getProdutos().then(()=>{this.showLoading=!1},e=>{this.showLoading=!1,console.log("Erro ao carregar Produtos: "+e)})})}onAddToCart(e){let o={produtoId:e.id,descricao:e.descricao,qtdeEstoque:e.qtdeEstoque,quantidade:1,precoUnitario:e.precoUnitario};this.vendaService.addItem(o)}static{this.\u0275fac=function(o){return new(o||t)(h(Xe),h(F),h(q))}}static{this.\u0275cmp=c({type:t,selectors:[["app-produto-lista"]],decls:15,vars:3,consts:[["novalidate","",3,"ngSubmit","formGroup"],[1,"container"],[1,"width-full"],["matInput","","placeholder","Produtos","formControlName","searchTerm"],[1,"pt-10"],["mat-button","","type","submit"],[1,"container","wrap"],[3,"produto"],[3,"visible"]],template:function(o,i){o&1&&(r(0,"mat-card")(1,"mat-card-content")(2,"form",0),f("ngSubmit",function(){return i.onSearch()}),r(3,"div")(4,"div",1)(5,"mat-form-field",2),l(6,"input",3),a(),r(7,"div",4)(8,"button",5),d(9,"Pesquisar"),a()()()()(),r(10,"div",6),w(11,bt,1,1,"app-produto-card",7,Ct),v(13,yt,2,0,"p"),a()(),l(14,"app-loading-bar",8),a()),o&2&&(m(2),p("formGroup",i.searchForm),m(9),A(i.produtos),m(2),C(!i.produtos||i.produtos.length===0?13:-1),m(),p("visible",i.showLoading))},dependencies:[u,j,Y,z,O,D,L,R,B,V,y,E,Z,Ke],styles:[".mat-mdc-card-content[_ngcontent-%COMP%]{padding-bottom:16px}"]})}}return t})();var tt=[{path:"categorias",loadComponent:()=>import("./chunk-XLXVFHOR.js").then(t=>t.CategoriasComponent)},{path:"cad-categoria",component:ee},{path:"cad-categoria-edit/:id",component:ee},{path:"fornecedores",loadComponent:()=>import("./chunk-AGLH4WMM.js").then(t=>t.FornecedoresComponent)},{path:"cad-fornecedor",loadComponent:()=>import("./chunk-J3SKX4AB.js").then(t=>t.CadFornecedorComponent)},{path:"cad-fornecedor-edit/:id",loadComponent:()=>import("./chunk-J3SKX4AB.js").then(t=>t.CadFornecedorComponent)},{path:"produtos",loadComponent:()=>import("./chunk-Z2RQLFVU.js").then(t=>t.ProdutosComponent)},{path:"cad-produto",loadComponent:()=>import("./chunk-GU3VQ4FT.js").then(t=>t.CadProdutoComponent)},{path:"cad-produto-edit/:id",loadComponent:()=>import("./chunk-GU3VQ4FT.js").then(t=>t.CadProdutoComponent)},{path:"checkout",loadComponent:()=>import("./chunk-UF6N67F6.js").then(t=>t.CheckoutComponent)},{path:"",component:Je,children:[{path:"",component:et}]}];var _t="@",Mt=(()=>{class t{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=_(se);loadingSchedulerFn=_(St,{optional:!0});_engine;constructor(e,o,i,s,g){this.doc=e,this.delegate=o,this.zone=i,this.animationType=s,this.moduleImpl=g}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-FWUIGTXN.js").then(i=>i),o;return this.loadingSchedulerFn?o=this.loadingSchedulerFn(e):o=e(),o.catch(i=>{throw new re(5300,!1)}).then(({\u0275createEngine:i,\u0275AnimationRendererFactory:s})=>{this._engine=i(this.animationType,this.doc);let g=new s(this.delegate,this._engine,this.zone);return this.delegate=g,g})}createRenderer(e,o){let i=this.delegate.createRenderer(e,o);if(i.\u0275type===0)return i;typeof i.throwOnSyntheticProps=="boolean"&&(i.throwOnSyntheticProps=!1);let s=new te(i);return o?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(g=>{let dt=g.createRenderer(e,o);s.use(dt),this.scheduler??=this.injector.get(le,null,{optional:!0}),this.scheduler?.notify(11)}).catch(g=>{s.use(i)}),s}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(e){this._engine?.flush(),this.delegate.componentReplaced?.(e)}static \u0275fac=function(o){fe()};static \u0275prov=ae({token:t,factory:t.\u0275fac})}return t})(),te=class{delegate;replay=[];\u0275type=1;constructor(n){this.delegate=n}use(n){if(this.delegate=n,this.replay!==null){for(let e of this.replay)e(n);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}get destroyNode(){return this.delegate.destroyNode}appendChild(n,e){this.delegate.appendChild(n,e)}insertBefore(n,e,o,i){this.delegate.insertBefore(n,e,o,i)}removeChild(n,e,o){this.delegate.removeChild(n,e,o)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,o,i){this.delegate.setAttribute(n,e,o,i)}removeAttribute(n,e,o){this.delegate.removeAttribute(n,e,o)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,o,i){this.delegate.setStyle(n,e,o,i)}removeStyle(n,e,o){this.delegate.removeStyle(n,e,o)}setProperty(n,e,o){this.shouldReplay(e)&&this.replay.push(i=>i.setProperty(n,e,o)),this.delegate.setProperty(n,e,o)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,o,i){return this.shouldReplay(e)&&this.replay.push(s=>s.listen(n,e,o,i)),this.delegate.listen(n,e,o,i)}shouldReplay(n){return this.replay!==null&&n.startsWith(_t)}},St=new de("");function ot(t="animations"){return ce("NgAsyncAnimations"),me([{provide:ge,useFactory:(n,e,o)=>new Mt(n,e,o,t),deps:[Se,Te,pe]},{provide:ue,useValue:t==="noop"?"NoopAnimations":"BrowserAnimations"}])}var it={providers:[Me({eventCoalescing:!0}),ke(tt),ot(),Ae()]};var Ft=(t,n)=>n.path;function It(t,n){if(t&1&&(r(0,"a",0),d(1),a()),t&2){let e=n.$implicit;p("href",e.path,he),m(),T(e.label)}}var nt=(()=>{class t{constructor(){this.menuItems=[{path:"",label:"Simula\xE7\xE3o Vendas"},{path:"categorias",label:"Categorias"},{path:"fornecedores",label:"Fornecedores"},{path:"produtos",label:"Produtos"}]}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=c({type:t,selectors:[["app-menu"]],decls:2,vars:0,consts:[["mat-list-item","",3,"href"]],template:function(o,i){o&1&&w(0,It,2,2,"a",0,Ft),o&2&&A(i.menuItems)},dependencies:[u,Ye],encapsulation:2})}}return t})();function Pt(t,n){if(t&1){let e=X();r(0,"button",9),f("click",function(){Q(e),Ce();let i=be(2);return W(i.toggle())}),r(1,"mat-icon",10),d(2,"menu"),a()()}}var rt=(()=>{class t{constructor(){this.breakpointObserver=_(Re),this.vendaService=_(F),this.router=_(S),this.isHandset$=this.breakpointObserver.observe(Oe.Handset).pipe(ie(e=>e.matches),ne())}navegarParaCheckout(){this.router.navigate(["/checkout"])}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=c({type:t,selectors:[["app-home"]],decls:22,vars:13,consts:[["drawer",""],[1,"sidenav-container"],["fixedInViewport","",1,"sidenav",3,"mode","opened"],["color","primary",2,"position","relative !important"],["type","button","aria-label","Toggle sidenav","mat-icon-button",""],[1,"width-full"],["mat-icon-button","",3,"click"],["matBadgeColor","warn",3,"matBadge"],[1,"m-10"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Side nav toggle icon"]],template:function(o,i){if(o&1){let s=X();r(0,"mat-sidenav-container",1)(1,"mat-sidenav",2,0),b(3,"async"),b(4,"async"),b(5,"async"),r(6,"mat-toolbar"),d(7,"Menu"),a(),r(8,"mat-nav-list"),l(9,"app-menu"),a()(),r(10,"mat-sidenav-content")(11,"mat-toolbar",3),v(12,Pt,3,0,"button",4),b(13,"async"),r(14,"span"),d(15,"Simulador Vendas App"),a(),l(16,"div",5),r(17,"button",6),f("click",function(){return Q(s),W(i.navegarParaCheckout())}),r(18,"mat-icon",7),d(19," shopping_cart "),a()()(),r(20,"div",8),l(21,"router-outlet"),a()()()}o&2&&(m(),p("mode",P(3,5,i.isHandset$)?"over":"side")("opened",P(4,7,i.isHandset$)===!1),ve("role",P(5,9,i.isHandset$)?"dialog":"navigation"),m(11),C(P(13,11,i.isHandset$)?12:-1),m(6),p("matBadge",i.vendaService.qtdeItensNoCarrinho))},dependencies:[u,H,$,Ge,$e,ze,Ue,Ze,Qe,Fe,nt,N],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:200px}.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background:inherit}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1;--mat-toolbar-container-background-color: #3f51b5;--mat-toolbar-container-text-color: white}.mat-badge-warn[_ngcontent-%COMP%]{--mat-badge-background-color: #f44336;--mat-badge-text-color: white}.mat-mdc-icon-button[_ngcontent-%COMP%]{color:#fff!important}"]})}}return t})();var at=(()=>{class t{constructor(e){this.router=e}ngOnInit(){this.router.events.subscribe(e=>{e instanceof Ne&&setTimeout(()=>{this.updatePaginatorLabels()},0)})}updatePaginatorLabels(){document.querySelectorAll(".mat-mdc-paginator-page-size-label").forEach(o=>{o.innerHTML="Itens por p\xE1gina"})}static{this.\u0275fac=function(o){return new(o||t)(h(S))}}static{this.\u0275cmp=c({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(o,i){o&1&&l(0,"app-home")},dependencies:[we,u,rt],encapsulation:2})}}return t})();xe(at,it).catch(t=>console.error(t));
