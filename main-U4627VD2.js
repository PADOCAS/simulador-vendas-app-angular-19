import{a as Ze}from"./chunk-MNPQJSQR.js";import{a as Qe}from"./chunk-5GR2HCL7.js";import{a as Ae,b as Te,c as L,d as _,e as Ne,f as X}from"./chunk-ZZRUWSD2.js";import{a as J}from"./chunk-Q7NYNHZM.js";import{$ as $e,A as Ve,B as Be,C as Y,D as Z,E as Oe,F as qe,G as Q,H as W,Y as je,Z as He,_ as Ge,aa as ze,b as Ie,ba as Ue,c as xe,d as Pe,f as R,g as V,h as B,i as O,ia as Ye,j as q,ja as u,l as j,n as H,p as G,q as ke,r as De,s as Le,u as $,v as z,w as S,x as U,y as Re,z as M}from"./chunk-QGSPP7SH.js";import{$ as re,$b as ve,Ac as _e,Da as pe,Db as C,Fb as A,Gb as T,Gc as Se,Hb as r,Ib as a,Ic as Me,Jb as l,Jc as Ee,Kc as Fe,La as ce,Lc as we,Nb as x,Qb as g,S as oe,Sb as N,Z as ne,ab as ue,ac as m,bb as s,bc as k,ca as ae,cb as h,cc as D,d as F,db as he,fa as y,gc as b,hb as ge,hc as P,ia as me,ic as Ce,jc as be,mc as ye,na as w,nb as c,oa as I,s as te,sb as v,ta as se,u as ie,va as de,xb as fe,ya as le,yb as p}from"./chunk-SVLTXY3Q.js";function pt(t,o){t&1&&(r(0,"div")(1,"mat-form-field",10)(2,"mat-label"),m(3,"Id"),a(),l(4,"input",11),a()())}function ct(t,o){t&1&&(r(0,"mat-error"),m(1,"Nome \xE9 "),r(2,"strong"),m(3,"requerido"),a()())}function ut(t,o){t&1&&(r(0,"mat-error"),m(1,"Nome deve ter no m\xEDnimo 3 caracteres"),a())}function ht(t,o){t&1&&(r(0,"mat-error"),m(1,"Descri\xE7\xE3o \xE9 "),r(2,"strong"),m(3,"requerida"),a()())}var K=(()=>{class t{constructor(e,i,n,d){this.categoriaService=e,this.form=i,this.router=n,this.routeActive=d,this.showLoading=!1,this.categoriaForm=this.form.group({id:[null],nome:["",[V.required,V.minLength(3)]],descricao:["",[V.required]]})}ngOnInit(){this.routeActive!==void 0&&this.routeActive!==null&&this.routeActive.snapshot!==void 0&&this.routeActive.snapshot!==null&&this.routeActive.snapshot.paramMap!==void 0&&this.routeActive.snapshot.paramMap!==null&&this.routeActive.snapshot.paramMap.get("id")!==void 0&&this.routeActive.snapshot.paramMap.get("id")!==null&&this.categoriaService.pegar(Number(this.routeActive.snapshot.paramMap.get("id"))).subscribe(e=>{if(e!=null){let i=e;this.categoriaForm.setValue({id:i.id,nome:i.nome,descricao:i.descricao}),this.categoriaForm.get("id")?.disable()}})}onSubmit(){console.log("Submit",this.categoriaForm.value),this.onSave(this.convertFormBuilderGroupToCategoria())}convertFormBuilderGroupToCategoria(){this.categoriaForm.get("id")?.enable();let e=this.categoriaForm.value;return this.categoriaForm.get("id")?.disable(),{id:e.id??0,nome:e.nome||"",descricao:e.descricao||""}}onSave(e){return F(this,null,function*(){this.showLoading=!0;let i=yield te(this.categoriaService.salvar(e));console.log("Categoria salva: ",i),this.showLoading=!1,this.router.navigate(["/categorias"])})}cancelar(){this.router.navigate(["/categorias"])}static{this.\u0275fac=function(i){return new(i||t)(h(Ze),h(G),h(_),h(Te))}}static{this.\u0275cmp=c({type:t,selectors:[["app-cad-categoria"]],decls:25,vars:7,consts:[["novalidate","",3,"ngSubmit","formGroup"],[4,"ngIf"],[1,"container"],[1,"item-30"],["matInput","","formControlName","nome"],[1,"item-70"],["matInput","","formControlName","descricao"],["mat-raised-button","","color","primary","type","submit",2,"margin-right","8px !important","margin-bottom","16px !important",3,"disabled"],["type","button","mat-raised-button","","color","primary",2,"margin-bottom","16px !important",3,"click"],[3,"visible"],[1,"item-20"],["matInput","","formControlName","id"]],template:function(i,n){if(i&1&&(r(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),m(3,"Categoria"),a()(),r(4,"mat-card-content")(5,"form",0),g("ngSubmit",function(){return n.onSubmit()}),r(6,"div"),v(7,pt,5,0,"div",1),r(8,"div",2)(9,"mat-form-field",3)(10,"mat-label"),m(11,"Nome"),a(),l(12,"input",4),v(13,ct,4,0,"mat-error")(14,ut,2,0,"mat-error"),a(),r(15,"mat-form-field",5)(16,"mat-label"),m(17,"Descri\xE7\xE3o"),a(),l(18,"input",6),v(19,ht,4,0,"mat-error"),a()()(),r(20,"button",7),m(21," Salvar "),a(),r(22,"button",8),g("click",function(){return n.cancelar()}),m(23," Cancelar "),a()()(),l(24,"app-loading-bar",9),a()),i&2){let d;s(5),p("formGroup",n.categoriaForm),s(2),p("ngIf",((d=n.categoriaForm.get("id"))==null?null:d.value)!==null),s(6),C(n.categoriaForm.controls.nome.hasError("required")?13:-1),s(),C(n.categoriaForm.controls.nome.hasError("minlength")?14:-1),s(5),C(n.categoriaForm.controls.descricao.hasError("required")?19:-1),s(),p("disabled",!n.categoriaForm.valid),s(4),p("visible",n.showLoading)}},dependencies:[ke,q,R,B,O,j,H,u,$,W,Q,Oe,qe,S,M,Y,U,Se,X],styles:[".mat-mdc-card-title[_ngcontent-%COMP%]{margin-bottom:10px!important}"]})}}return t})();var Je=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=c({type:t,selectors:[["app-venda"]],decls:6,vars:0,template:function(i,n){i&1&&(r(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),m(3," Simulador Venda - Produtos Dispon\xEDveis "),a()(),r(4,"mat-card-content"),l(5,"router-outlet"),a()())},dependencies:[u,S,M,Y,U,L],encapsulation:2})}}return t})();var ft=(t,o)=>o.id;function vt(t,o){if(t&1){let e=x();r(0,"div",7)(1,"mat-card",9)(2,"mat-card-title-group")(3,"mat-card-subtitle"),m(4),a(),r(5,"mat-card-subtitle")(6,"h3"),m(7),a()(),r(8,"div")(9,"strong"),m(10),b(11,"currency"),a()()(),r(12,"div",10)(13,"mat-card-actions",11)(14,"mat-card-subtitle"),m(15),b(16,"number"),a()(),r(17,"mat-card-actions",12)(18,"button",13),g("click",function(){let n=w(e).$implicit,d=N();return I(d.onAddToCart(n))}),r(19,"mat-icon"),m(20,"add_shopping_cart"),a()()()()()()}if(t&2){let e=o.$implicit;s(4),D(" ",e.categoria==null?null:e.categoria.nome,""),s(3),k(e.descricao),s(3),D("",be(11,5,e.precoUnitario,"BRL","symbol")," "),s(5),D("Qtde Estoque: ",Ce(16,9,e.qtdeEstoque,"1.0-0"),""),s(3),p("disabled",e.qtdeEstoque==0)}}function Ct(t,o){t&1&&(r(0,"p"),m(1,"Nenhum produto encontrado."),a())}var Ke=(()=>{class t{constructor(e,i,n){this.produtoService=e,this.vendaService=i,this.form=n,this.showLoading=!1,this.searchForm=this.form.group({searchTerm:[""]})}ngOnInit(){this.showLoading=!0,this.getProdutos().then(()=>{this.showLoading=!1},e=>{console.log("Erro ao carregar Produtos: "+e),this.showLoading=!1})}getProdutos(){return F(this,null,function*(){this.produtos=yield this.produtoService.getProdutosComFiltro(this.searchForm?.value?.searchTerm).toPromise()})}onSearch(){return F(this,null,function*(){this.showLoading=!0,this.getProdutos().then(()=>{this.showLoading=!1},e=>{this.showLoading=!1,console.log("Erro ao carregar Produtos: "+e)})})}onAddToCart(e){let i={produtoId:e.id,descricao:e.descricao,qtdeEstoque:e.qtdeEstoque,quantidade:1,precoUnitario:e.precoUnitario};this.vendaService.addItem(i)}static{this.\u0275fac=function(i){return new(i||t)(h(Qe),h(J),h(G))}}static{this.\u0275cmp=c({type:t,selectors:[["app-produto-lista"]],decls:15,vars:3,consts:[["novalidate","",3,"ngSubmit","formGroup"],[1,"container"],[1,"width-full"],["matInput","","placeholder","Produtos","formControlName","searchTerm"],[1,"pt-10"],["mat-button","","type","submit"],[1,"container","wrap"],[2,"width","300px"],[3,"visible"],[1,"p-5"],[2,"display","flex","flex-direction","row","justify-content","space-between"],["align","start",2,"padding","0px"],["align","end",2,"padding","0px"],["mat-icon-button","",3,"click","disabled"]],template:function(i,n){i&1&&(r(0,"mat-card")(1,"mat-card-content")(2,"form",0),g("ngSubmit",function(){return n.onSearch()}),r(3,"div")(4,"div",1)(5,"mat-form-field",2),l(6,"input",3),a(),r(7,"div",4)(8,"button",5),m(9,"Pesquisar"),a()()()()(),r(10,"div",6),A(11,vt,21,12,"div",7,ft),v(13,Ct,2,0,"p"),a()(),l(14,"app-loading-bar",8),a()),i&2&&(s(2),p("formGroup",n.searchForm),s(9),T(n.produtos),s(2),C(!n.produtos||n.produtos.length===0?13:-1),s(),p("visible",n.showLoading))},dependencies:[u,$,z,Z,W,Q,q,R,B,O,j,H,S,Be,M,Ve,Re,X,Fe,Ee],styles:["h3[_ngcontent-%COMP%]{display:block;font-size:.9em;margin-block-start:1em;margin-block-end:1em;margin-inline-start:0px;margin-inline-end:0px;font-weight:700;unicode-bidi:isolate;font:600 .9rem/1.2rem Roboto,sans-serif}"]})}}return t})();var et=[{path:"categorias",loadComponent:()=>import("./chunk-PQZUEXWR.js").then(t=>t.CategoriasComponent)},{path:"cad-categoria",component:K},{path:"cad-categoria-edit/:id",component:K},{path:"fornecedores",loadComponent:()=>import("./chunk-AFLBAD5G.js").then(t=>t.FornecedoresComponent)},{path:"cad-fornecedor",loadComponent:()=>import("./chunk-2AZJ6LU4.js").then(t=>t.CadFornecedorComponent)},{path:"cad-fornecedor-edit/:id",loadComponent:()=>import("./chunk-2AZJ6LU4.js").then(t=>t.CadFornecedorComponent)},{path:"produtos",loadComponent:()=>import("./chunk-Z2RQLFVU.js").then(t=>t.ProdutosComponent)},{path:"cad-produto",loadComponent:()=>import("./chunk-2QTPE5XE.js").then(t=>t.CadProdutoComponent)},{path:"cad-produto-edit/:id",loadComponent:()=>import("./chunk-2QTPE5XE.js").then(t=>t.CadProdutoComponent)},{path:"checkout",loadComponent:()=>import("./chunk-RD4GIAJ7.js").then(t=>t.CheckoutComponent)},{path:"",component:Je,children:[{path:"",component:Ke}]}];var bt="@",yt=(()=>{class t{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=y(se);loadingSchedulerFn=y(_t,{optional:!0});_engine;constructor(e,i,n,d,f){this.doc=e,this.delegate=i,this.zone=n,this.animationType=d,this.moduleImpl=f}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-FWUIGTXN.js").then(n=>n),i;return this.loadingSchedulerFn?i=this.loadingSchedulerFn(e):i=e(),i.catch(n=>{throw new ne(5300,!1)}).then(({\u0275createEngine:n,\u0275AnimationRendererFactory:d})=>{this._engine=n(this.animationType,this.doc);let f=new d(this.delegate,this._engine,this.zone);return this.delegate=f,f})}createRenderer(e,i){let n=this.delegate.createRenderer(e,i);if(n.\u0275type===0)return n;typeof n.throwOnSyntheticProps=="boolean"&&(n.throwOnSyntheticProps=!1);let d=new ee(n);return i?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(f=>{let at=f.createRenderer(e,i);d.use(at),this.scheduler??=this.injector.get(de,null,{optional:!0}),this.scheduler?.notify(11)}).catch(f=>{d.use(n)}),d}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(e){this._engine?.flush(),this.delegate.componentReplaced?.(e)}static \u0275fac=function(i){he()};static \u0275prov=re({token:t,factory:t.\u0275fac})}return t})(),ee=class{delegate;replay=[];\u0275type=1;constructor(o){this.delegate=o}use(o){if(this.delegate=o,this.replay!==null){for(let e of this.replay)e(o);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(o,e){return this.delegate.createElement(o,e)}createComment(o){return this.delegate.createComment(o)}createText(o){return this.delegate.createText(o)}get destroyNode(){return this.delegate.destroyNode}appendChild(o,e){this.delegate.appendChild(o,e)}insertBefore(o,e,i,n){this.delegate.insertBefore(o,e,i,n)}removeChild(o,e,i){this.delegate.removeChild(o,e,i)}selectRootElement(o,e){return this.delegate.selectRootElement(o,e)}parentNode(o){return this.delegate.parentNode(o)}nextSibling(o){return this.delegate.nextSibling(o)}setAttribute(o,e,i,n){this.delegate.setAttribute(o,e,i,n)}removeAttribute(o,e,i){this.delegate.removeAttribute(o,e,i)}addClass(o,e){this.delegate.addClass(o,e)}removeClass(o,e){this.delegate.removeClass(o,e)}setStyle(o,e,i,n){this.delegate.setStyle(o,e,i,n)}removeStyle(o,e,i){this.delegate.removeStyle(o,e,i)}setProperty(o,e,i){this.shouldReplay(e)&&this.replay.push(n=>n.setProperty(o,e,i)),this.delegate.setProperty(o,e,i)}setValue(o,e){this.delegate.setValue(o,e)}listen(o,e,i,n){return this.shouldReplay(e)&&this.replay.push(d=>d.listen(o,e,i,n)),this.delegate.listen(o,e,i,n)}shouldReplay(o){return this.replay!==null&&o.startsWith(bt)}},_t=new ae("");function tt(t="animations"){return pe("NgAsyncAnimations"),me([{provide:ge,useFactory:(o,e,i)=>new yt(o,e,i,t),deps:[_e,xe,le]},{provide:ce,useValue:t==="noop"?"NoopAnimations":"BrowserAnimations"}])}var it={providers:[ye({eventCoalescing:!0}),Ne(et),tt(),Ie()]};var Mt=(t,o)=>o.path;function Et(t,o){if(t&1&&(r(0,"a",0),m(1),a()),t&2){let e=o.$implicit;p("href",e.path,ue),s(),k(e.label)}}var ot=(()=>{class t{constructor(){this.menuItems=[{path:"",label:"Simula\xE7\xE3o Vendas"},{path:"categorias",label:"Categorias"},{path:"fornecedores",label:"Fornecedores"},{path:"produtos",label:"Produtos"}]}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=c({type:t,selectors:[["app-menu"]],decls:2,vars:0,consts:[["mat-list-item","",3,"href"]],template:function(i,n){i&1&&A(0,Et,2,2,"a",0,Mt),i&2&&T(n.menuItems)},dependencies:[u,ze],encapsulation:2})}}return t})();function Ft(t,o){if(t&1){let e=x();r(0,"button",9),g("click",function(){w(e),N();let n=ve(2);return I(n.toggle())}),r(1,"mat-icon",10),m(2,"menu"),a()()}}var nt=(()=>{class t{constructor(){this.breakpointObserver=y(De),this.vendaService=y(J),this.router=y(_),this.isHandset$=this.breakpointObserver.observe(Le.Handset).pipe(ie(e=>e.matches),oe())}navegarParaCheckout(){console.log("indo para checkout..."),this.router.navigate(["/checkout"])}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=c({type:t,selectors:[["app-home"]],decls:22,vars:13,consts:[["drawer",""],[1,"sidenav-container"],["fixedInViewport","",1,"sidenav",3,"mode","opened"],["color","primary",2,"position","relative !important"],["type","button","aria-label","Toggle sidenav","mat-icon-button",""],[1,"width-full"],["mat-icon-button","",3,"click"],["matBadgeColor","warn",3,"matBadge"],[1,"m-10"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Side nav toggle icon"]],template:function(i,n){if(i&1){let d=x();r(0,"mat-sidenav-container",1)(1,"mat-sidenav",2,0),b(3,"async"),b(4,"async"),b(5,"async"),r(6,"mat-toolbar"),m(7,"Menu"),a(),r(8,"mat-nav-list"),l(9,"app-menu"),a()(),r(10,"mat-sidenav-content")(11,"mat-toolbar",3),v(12,Ft,3,0,"button",4),b(13,"async"),r(14,"span"),m(15,"Simulador Vendas App"),a(),l(16,"div",5),r(17,"button",6),g("click",function(){return w(d),I(n.navegarParaCheckout())}),r(18,"mat-icon",7),m(19," shopping_cart "),a()()(),r(20,"div",8),l(21,"router-outlet"),a()()()}i&2&&(s(),p("mode",P(3,5,n.isHandset$)?"over":"side")("opened",P(4,7,n.isHandset$)===!1),fe("role",P(5,9,n.isHandset$)?"dialog":"navigation"),s(11),C(P(13,11,n.isHandset$)?12:-1),s(6),p("matBadge",n.vendaService.qtdeItensNoCarrinho))},dependencies:[u,z,Z,je,Ge,$e,He,Ue,Ye,Me,ot,L],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:200px}.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background:inherit}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1;--mat-toolbar-container-background-color: #3f51b5;--mat-toolbar-container-text-color: white}.mat-badge-warn[_ngcontent-%COMP%]{--mat-badge-background-color: #f44336;--mat-badge-text-color: white}.mat-mdc-icon-button[_ngcontent-%COMP%]{color:#fff!important}"]})}}return t})();var rt=(()=>{class t{constructor(e){this.router=e}ngOnInit(){this.router.events.subscribe(e=>{e instanceof Ae&&setTimeout(()=>{this.updatePaginatorLabels()},0)})}updatePaginatorLabels(){document.querySelectorAll(".mat-mdc-paginator-page-size-label").forEach(i=>{i.innerHTML="Itens por p\xE1gina"})}static{this.\u0275fac=function(i){return new(i||t)(h(_))}}static{this.\u0275cmp=c({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(i,n){i&1&&l(0,"app-home")},dependencies:[we,u,nt],encapsulation:2})}}return t})();Pe(rt,it).catch(t=>console.error(t));
