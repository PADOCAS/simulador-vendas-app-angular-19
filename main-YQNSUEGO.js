import{a as Ue}from"./chunk-NLY2HDLN.js";import{a as Ye}from"./chunk-BSF5BN66.js";import{A as b,B as q,C as Re,D as M,E as Oe,F as ke,G,H as $,I as Be,J as Ve,K as z,L as U,aa as je,b as Ie,ba as He,c as xe,ca as qe,d as we,da as Ge,e as Ae,ea as $e,f as Pe,fa as ze,g as P,h as T,i as Te,j as N,k as D,l as L,la as u,m as R,ma as Y,n as O,p as k,r as B,t as V,u as Ne,v as De,w as Le,y as j,z as H}from"./chunk-7OGIKOKS.js";import{$ as ee,$b as ge,Da as se,Db as g,Fb as I,Fc as Me,Gb as x,Hb as r,Hc as _e,Ib as a,Ic as Se,Jb as l,Jc as Ee,Kc as Fe,La as de,Nb as he,Qb as y,S as J,Sb as fe,Z as K,ab as le,ac as m,bb as s,bc as w,ca as te,cb as h,cc as A,d as S,db as pe,fa as E,gc as v,hb as ce,hc as F,ia as ie,ic as ve,jc as Ce,mc as ye,na as oe,nb as c,oa as ne,s as W,sb as f,ta as re,u as X,va as ae,xb as ue,ya as me,yb as p,zc as be}from"./chunk-CNIQ24GW.js";function dt(t,o){t&1&&(r(0,"div")(1,"mat-form-field",10)(2,"mat-label"),m(3,"Id"),a(),l(4,"input",11),a()())}function lt(t,o){t&1&&(r(0,"mat-error"),m(1,"Nome \xE9 "),r(2,"strong"),m(3,"requerido"),a()())}function pt(t,o){t&1&&(r(0,"mat-error"),m(1,"Nome deve ter no m\xEDnimo 3 caracteres"),a())}function ct(t,o){t&1&&(r(0,"mat-error"),m(1,"Descri\xE7\xE3o \xE9 "),r(2,"strong"),m(3,"requerida"),a()())}var Z=(()=>{class t{constructor(e,i,n,d){this.categoriaService=e,this.form=i,this.router=n,this.routeActive=d,this.showLoading=!1,this.categoriaForm=this.form.group({id:[null],nome:["",[D.required,D.minLength(3)]],descricao:["",[D.required]]})}ngOnInit(){this.routeActive!==void 0&&this.routeActive!==null&&this.routeActive.snapshot!==void 0&&this.routeActive.snapshot!==null&&this.routeActive.snapshot.paramMap!==void 0&&this.routeActive.snapshot.paramMap!==null&&this.routeActive.snapshot.paramMap.get("id")!==void 0&&this.routeActive.snapshot.paramMap.get("id")!==null&&this.categoriaService.pegar(Number(this.routeActive.snapshot.paramMap.get("id"))).subscribe(e=>{if(e!=null){let i=e;this.categoriaForm.setValue({id:i.id,nome:i.nome,descricao:i.descricao}),this.categoriaForm.get("id")?.disable()}})}onSubmit(){console.log("Submit",this.categoriaForm.value),this.onSave(this.convertFormBuilderGroupToCategoria())}convertFormBuilderGroupToCategoria(){this.categoriaForm.get("id")?.enable();let e=this.categoriaForm.value;return this.categoriaForm.get("id")?.disable(),{id:e.id??0,nome:e.nome||"",descricao:e.descricao||""}}onSave(e){return S(this,null,function*(){this.showLoading=!0;let i=yield W(this.categoriaService.salvar(e));console.log("Categoria salva: ",i),this.showLoading=!1,this.router.navigate(["/categorias"])})}cancelar(){this.router.navigate(["/categorias"])}static{this.\u0275fac=function(i){return new(i||t)(h(Ue),h(V),h(T),h(Pe))}}static{this.\u0275cmp=c({type:t,selectors:[["app-cad-categoria"]],decls:25,vars:7,consts:[["novalidate","",3,"ngSubmit","formGroup"],[4,"ngIf"],[1,"container"],[1,"item-30"],["matInput","","formControlName","nome"],[1,"item-70"],["matInput","","formControlName","descricao"],["mat-raised-button","","color","primary","type","submit",2,"margin-right","8px !important","margin-bottom","16px !important",3,"disabled"],["type","button","mat-raised-button","","color","primary",2,"margin-bottom","16px !important",3,"click"],[3,"visible"],[1,"item-20"],["matInput","","formControlName","id"]],template:function(i,n){if(i&1&&(r(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),m(3,"Categoria"),a()(),r(4,"mat-card-content")(5,"form",0),y("ngSubmit",function(){return n.onSubmit()}),r(6,"div"),f(7,dt,5,0,"div",1),r(8,"div",2)(9,"mat-form-field",3)(10,"mat-label"),m(11,"Nome"),a(),l(12,"input",4),f(13,lt,4,0,"mat-error")(14,pt,2,0,"mat-error"),a(),r(15,"mat-form-field",5)(16,"mat-label"),m(17,"Descri\xE7\xE3o"),a(),l(18,"input",6),f(19,ct,4,0,"mat-error"),a()()(),r(20,"button",7),m(21," Salvar "),a(),r(22,"button",8),y("click",function(){return n.cancelar()}),m(23," Cancelar "),a()()(),l(24,"app-loading-bar",9),a()),i&2){let d;s(5),p("formGroup",n.categoriaForm),s(2),p("ngIf",((d=n.categoriaForm.get("id"))==null?null:d.value)!==null),s(6),g(n.categoriaForm.controls.nome.hasError("required")?13:-1),s(),g(n.categoriaForm.controls.nome.hasError("minlength")?14:-1),s(5),g(n.categoriaForm.controls.descricao.hasError("required")?19:-1),s(),p("disabled",!n.categoriaForm.valid),s(4),p("visible",n.showLoading)}},dependencies:[Ne,O,N,L,R,k,B,u,j,U,z,Be,Ve,b,M,G,q,Me,Y],styles:[".mat-mdc-card-title[_ngcontent-%COMP%]{margin-bottom:10px!important}"]})}}return t})();var We=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=c({type:t,selectors:[["app-venda"]],decls:6,vars:0,template:function(i,n){i&1&&(r(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),m(3," Simulador Venda - Produtos Dispon\xEDveis "),a()(),r(4,"mat-card-content"),l(5,"router-outlet"),a()())},dependencies:[u,b,M,G,q,P],encapsulation:2})}}return t})();var ht=(t,o)=>o.id;function ft(t,o){if(t&1&&(r(0,"div",7)(1,"mat-card",9)(2,"mat-card-title-group")(3,"mat-card-subtitle"),m(4),a(),r(5,"mat-card-subtitle")(6,"h3"),m(7),a()(),r(8,"div")(9,"strong"),m(10),v(11,"currency"),a()()(),r(12,"div",10)(13,"mat-card-actions",11)(14,"mat-card-subtitle"),m(15),v(16,"number"),a()(),r(17,"mat-card-actions",12)(18,"button",13)(19,"mat-icon"),m(20,"add_shopping_cart"),a()()()()()()),t&2){let e=o.$implicit;s(4),A(" ",e.categoria==null?null:e.categoria.nome,""),s(3),w(e.descricao),s(3),A("",Ce(11,5,e.precoUnitario,"BRL","symbol")," "),s(5),A("Qtde Estoque: ",ve(16,9,e.qtdeEstoque,"1.0-0"),""),s(3),p("disabled",e.qtdeEstoque==0)}}function gt(t,o){t&1&&(r(0,"p"),m(1,"Nenhum produto encontrado."),a())}var Xe=(()=>{class t{constructor(e,i){this.produtoService=e,this.form=i,this.showLoading=!1,this.searchForm=this.form.group({searchTerm:[""]})}ngOnInit(){this.showLoading=!0,this.getProdutos().then(()=>{this.showLoading=!1},e=>{console.log("Erro ao carregar Produtos: "+e),this.showLoading=!1})}getProdutos(){return S(this,null,function*(){this.produtos=yield this.produtoService.getProdutosComFiltro(this.searchForm?.value?.searchTerm).toPromise()})}onSearch(){return S(this,null,function*(){this.showLoading=!0,this.getProdutos().then(()=>{this.showLoading=!1},e=>{this.showLoading=!1,console.log("Erro ao carregar Produtos: "+e)})})}static{this.\u0275fac=function(i){return new(i||t)(h(Ye),h(V))}}static{this.\u0275cmp=c({type:t,selectors:[["app-produto-lista"]],decls:15,vars:3,consts:[["novalidate","",3,"ngSubmit","formGroup"],[1,"container"],[1,"width-full"],["matInput","","placeholder","Produtos","formControlName","searchTerm"],[1,"pt-10"],["mat-button","","type","submit"],[1,"container","wrap"],[2,"width","300px"],[3,"visible"],[1,"p-5"],[2,"display","flex","flex-direction","row","justify-content","space-between"],["align","start",2,"padding","0px"],["align","end",2,"padding","0px"],["mat-icon-button","",3,"disabled"]],template:function(i,n){i&1&&(r(0,"mat-card")(1,"mat-card-content")(2,"form",0),y("ngSubmit",function(){return n.onSearch()}),r(3,"div")(4,"div",1)(5,"mat-form-field",2),l(6,"input",3),a(),r(7,"div",4)(8,"button",5),m(9,"Pesquisar"),a()()()()(),r(10,"div",6),I(11,ft,21,12,"div",7,ht),f(13,gt,2,0,"p"),a()(),l(14,"app-loading-bar",8),a()),i&2&&(s(2),p("formGroup",n.searchForm),s(9),x(n.produtos),s(2),g(!n.produtos||n.produtos.length===0?13:-1),s(),p("visible",n.showLoading))},dependencies:[u,j,H,$,U,z,O,N,L,R,k,B,b,ke,M,Oe,Re,Y,Ee,Se],styles:["h3[_ngcontent-%COMP%]{display:block;font-size:.9em;margin-block-start:1em;margin-block-end:1em;margin-inline-start:0px;margin-inline-end:0px;font-weight:700;unicode-bidi:isolate;font:600 .9rem/1.2rem Roboto,sans-serif}"]})}}return t})();var Je=[{path:"categorias",loadComponent:()=>import("./chunk-2NOE6KFA.js").then(t=>t.CategoriasComponent)},{path:"cad-categoria",component:Z},{path:"cad-categoria-edit/:id",component:Z},{path:"fornecedores",loadComponent:()=>import("./chunk-YCBHHPSW.js").then(t=>t.FornecedoresComponent)},{path:"cad-fornecedor",loadComponent:()=>import("./chunk-BPHVZZHM.js").then(t=>t.CadFornecedorComponent)},{path:"cad-fornecedor-edit/:id",loadComponent:()=>import("./chunk-BPHVZZHM.js").then(t=>t.CadFornecedorComponent)},{path:"produtos",loadComponent:()=>import("./chunk-4AM52455.js").then(t=>t.ProdutosComponent)},{path:"cad-produto",loadComponent:()=>import("./chunk-Z5MAETUO.js").then(t=>t.CadProdutoComponent)},{path:"cad-produto-edit/:id",loadComponent:()=>import("./chunk-Z5MAETUO.js").then(t=>t.CadProdutoComponent)},{path:"",component:We,children:[{path:"",component:Xe}]}];var vt="@",Ct=(()=>{class t{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=E(re);loadingSchedulerFn=E(yt,{optional:!0});_engine;constructor(e,i,n,d,C){this.doc=e,this.delegate=i,this.zone=n,this.animationType=d,this.moduleImpl=C}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-QYFIQW56.js").then(n=>n),i;return this.loadingSchedulerFn?i=this.loadingSchedulerFn(e):i=e(),i.catch(n=>{throw new K(5300,!1)}).then(({\u0275createEngine:n,\u0275AnimationRendererFactory:d})=>{this._engine=n(this.animationType,this.doc);let C=new d(this.delegate,this._engine,this.zone);return this.delegate=C,C})}createRenderer(e,i){let n=this.delegate.createRenderer(e,i);if(n.\u0275type===0)return n;typeof n.throwOnSyntheticProps=="boolean"&&(n.throwOnSyntheticProps=!1);let d=new Q(n);return i?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(C=>{let nt=C.createRenderer(e,i);d.use(nt),this.scheduler??=this.injector.get(ae,null,{optional:!0}),this.scheduler?.notify(11)}).catch(C=>{d.use(n)}),d}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(e){this._engine?.flush(),this.delegate.componentReplaced?.(e)}static \u0275fac=function(i){pe()};static \u0275prov=ee({token:t,factory:t.\u0275fac})}return t})(),Q=class{delegate;replay=[];\u0275type=1;constructor(o){this.delegate=o}use(o){if(this.delegate=o,this.replay!==null){for(let e of this.replay)e(o);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(o,e){return this.delegate.createElement(o,e)}createComment(o){return this.delegate.createComment(o)}createText(o){return this.delegate.createText(o)}get destroyNode(){return this.delegate.destroyNode}appendChild(o,e){this.delegate.appendChild(o,e)}insertBefore(o,e,i,n){this.delegate.insertBefore(o,e,i,n)}removeChild(o,e,i){this.delegate.removeChild(o,e,i)}selectRootElement(o,e){return this.delegate.selectRootElement(o,e)}parentNode(o){return this.delegate.parentNode(o)}nextSibling(o){return this.delegate.nextSibling(o)}setAttribute(o,e,i,n){this.delegate.setAttribute(o,e,i,n)}removeAttribute(o,e,i){this.delegate.removeAttribute(o,e,i)}addClass(o,e){this.delegate.addClass(o,e)}removeClass(o,e){this.delegate.removeClass(o,e)}setStyle(o,e,i,n){this.delegate.setStyle(o,e,i,n)}removeStyle(o,e,i){this.delegate.removeStyle(o,e,i)}setProperty(o,e,i){this.shouldReplay(e)&&this.replay.push(n=>n.setProperty(o,e,i)),this.delegate.setProperty(o,e,i)}setValue(o,e){this.delegate.setValue(o,e)}listen(o,e,i,n){return this.shouldReplay(e)&&this.replay.push(d=>d.listen(o,e,i,n)),this.delegate.listen(o,e,i,n)}shouldReplay(o){return this.replay!==null&&o.startsWith(vt)}},yt=new te("");function Ke(t="animations"){return se("NgAsyncAnimations"),ie([{provide:ce,useFactory:(o,e,i)=>new Ct(o,e,i,t),deps:[be,xe,me]},{provide:de,useValue:t==="noop"?"NoopAnimations":"BrowserAnimations"}])}var et={providers:[ye({eventCoalescing:!0}),Te(Je),Ke(),Ie()]};var Mt=(t,o)=>o.path;function _t(t,o){if(t&1&&(r(0,"a",0),m(1),a()),t&2){let e=o.$implicit;p("href",e.path,le),s(),w(e.label)}}var tt=(()=>{class t{constructor(){this.menuItems=[{path:"",label:"In\xEDcio"},{path:"categorias",label:"Categorias"},{path:"fornecedores",label:"Fornecedores"},{path:"produtos",label:"Produtos"}]}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=c({type:t,selectors:[["app-menu"]],decls:2,vars:0,consts:[["mat-list-item","",3,"href"]],template:function(i,n){i&1&&I(0,_t,2,2,"a",0,Mt),i&2&&x(n.menuItems)},dependencies:[u,$e],encapsulation:2})}}return t})();function St(t,o){if(t&1){let e=he();r(0,"button",6),y("click",function(){oe(e),fe();let n=ge(2);return ne(n.toggle())}),r(1,"mat-icon",7),m(2,"menu"),a()()}}var it=(()=>{class t{constructor(){this.breakpointObserver=E(De),this.isHandset$=this.breakpointObserver.observe(Le.Handset).pipe(X(e=>e.matches),J())}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=c({type:t,selectors:[["app-home"]],decls:18,vars:12,consts:[["drawer",""],[1,"sidenav-container"],["fixedInViewport","",1,"sidenav",3,"mode","opened"],["color","primary",2,"position","relative !important"],["type","button","aria-label","Toggle sidenav","mat-icon-button",""],[1,"m-10"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Side nav toggle icon"]],template:function(i,n){i&1&&(r(0,"mat-sidenav-container",1)(1,"mat-sidenav",2,0),v(3,"async"),v(4,"async"),v(5,"async"),r(6,"mat-toolbar"),m(7,"Menu"),a(),r(8,"mat-nav-list"),l(9,"app-menu"),a()(),r(10,"mat-sidenav-content")(11,"mat-toolbar",3),f(12,St,3,0,"button",4),v(13,"async"),r(14,"span"),m(15,"Simulador Vendas App"),a()(),r(16,"div",5),l(17,"router-outlet"),a()()()),i&2&&(s(),p("mode",F(3,4,n.isHandset$)?"over":"side")("opened",F(4,6,n.isHandset$)===!1),ue("role",F(5,8,n.isHandset$)?"dialog":"navigation"),s(11),g(F(13,10,n.isHandset$)?12:-1))},dependencies:[u,H,$,je,qe,Ge,He,ze,_e,tt,P],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:200px}.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background:inherit}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}"]})}}return t})();var ot=(()=>{class t{constructor(e){this.router=e}ngOnInit(){this.router.events.subscribe(e=>{e instanceof Ae&&setTimeout(()=>{this.updatePaginatorLabels()},0)})}updatePaginatorLabels(){document.querySelectorAll(".mat-mdc-paginator-page-size-label").forEach(i=>{i.innerHTML="Itens por p\xE1gina"})}static{this.\u0275fac=function(i){return new(i||t)(h(T))}}static{this.\u0275cmp=c({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(i,n){i&1&&l(0,"app-home")},dependencies:[Fe,u,it],encapsulation:2})}}return t})();we(ot,et).catch(t=>console.error(t));
