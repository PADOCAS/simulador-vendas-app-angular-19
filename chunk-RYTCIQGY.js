import{a as nt}from"./chunk-2EVUWWIG.js";import{d as H,f as it}from"./chunk-EOV7HJLD.js";import{B as j,C as q,D as A,J as N,K as y,L as E,M as B,N as b,O as U,P as G,Q as J,R as K,S as W,T as X,U as Y,V as Z,W as tt,X as R,ja as et,u as Q,w as L,x as O,z}from"./chunk-BDPFLN4K.js";import{Ab as l,Gc as $,Jb as n,Kb as o,Lb as u,Mb as C,Nb as _,Pb as v,Sb as S,Ub as k,Yb as x,Zb as P,_b as M,bb as s,cb as T,cc as a,d as D,dc as h,gc as F,hc as c,na as g,nb as V,oa as w,s as I,sb as p}from"./chunk-VAOQOUOU.js";var ot=()=>[5,10,20],f=e=>({"produto-inativo":e});function at(e,i){e&1&&(n(0,"th",17),a(1,"Id"),o())}function rt(e,i){if(e&1&&(n(0,"td",18),a(1),o()),e&2){let t=i.$implicit;l("ngClass",c(2,f,!t.ativo)),s(),h(t.id)}}function lt(e,i){e&1&&(n(0,"th",17),a(1,"Descri\xE7\xE3o"),o())}function dt(e,i){if(e&1&&(n(0,"td",18),a(1),o()),e&2){let t=i.$implicit;l("ngClass",c(2,f,!t.ativo)),s(),h(t.descricao)}}function mt(e,i){e&1&&(n(0,"th",17),a(1,"Unidade Medida"),o())}function st(e,i){if(e&1&&(n(0,"td",18),a(1),o()),e&2){let t=i.$implicit;l("ngClass",c(2,f,!t.ativo)),s(),h(t.unidadeMedida)}}function ct(e,i){e&1&&(n(0,"th",17),a(1,"Ativo"),o())}function pt(e,i){if(e&1&&(n(0,"td",18),a(1),o()),e&2){let t=i.$implicit;l("ngClass",c(2,f,!t.ativo)),s(),h(t.ativo?"Sim":"N\xE3o")}}function ut(e,i){e&1&&u(0,"th",17)}function ft(e,i){if(e&1){let t=v();n(0,"td",18)(1,"button",19),S("click",function(){let r=g(t).$implicit,m=k();return w(m.onClickEditar(r))}),n(2,"mat-icon"),a(3,"edit"),o()()()}if(e&2){let t=i.$implicit;l("ngClass",c(2,f,!t.ativo)),s(),l("ngClass",c(4,f,!t.ativo))}}function Ct(e,i){e&1&&u(0,"th",17)}function _t(e,i){if(e&1){let t=v();n(0,"td",18)(1,"button",20),S("click",function(){let r=g(t).$implicit,m=k();return w(m.onClickDeletar(r))}),n(2,"mat-icon"),a(3,"delete"),o()()()}if(e&2){let t=i.$implicit;l("ngClass",c(2,f,!t.ativo)),s(),l("ngClass",c(4,f,!t.ativo))}}function ht(e,i){e&1&&u(0,"tr",21)}function gt(e,i){e&1&&u(0,"tr",22)}var Qt=(()=>{class e{constructor(t,d){this.produtoService=t,this.router=d,this.dataSource=new R,this.showLoading=!1,this.displayedColumns=["id","descricao","unidadeMedida","ativo","editar","excluir"]}ngAfterViewInit(){this.loadProdutos()}loadProdutos(){return D(this,null,function*(){this.showLoading=!0;let t=yield I(this.produtoService.getProdutos());this.dataSource=new R(t),this.table.dataSource=this.dataSource,this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator,this.showLoading=!1})}navegarParaCadProduto(){this.router.navigate(["/cad-produto"])}onClickEditar(t){t!=null&&t.id!==void 0&&t.id!==null&&this.router.navigate(["/cad-produto-edit",t.id])}onClickDeletar(t){return D(this,null,function*(){t!=null&&t.id!==void 0&&t.id!==null&&confirm(`Deletar Produto (${t.id}) ${t.descricao} ?`)&&(this.showLoading=!0,this.produtoService.deletar(t.id).subscribe(d=>{this.showLoading=!1,this.loadProdutos()}))})}static{this.\u0275fac=function(d){return new(d||e)(T(nt),T(H))}}static{this.\u0275cmp=V({type:e,selectors:[["app-produtos"]],viewQuery:function(d,r){if(d&1&&(x(y,5),x(E,5),x(b,5)),d&2){let m;P(m=M())&&(r.paginator=m.first),P(m=M())&&(r.sort=m.first),P(m=M())&&(r.table=m.first)}},decls:35,vars:8,consts:[["Paginator",""],["mat-raised-button","",3,"click"],["mat-table","","matSort","","aria-label","Elements",1,"full-width-table"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",3,"ngClass",4,"matCellDef"],["matColumnDef","descricao"],["matColumnDef","unidadeMedida"],["matColumnDef","ativo"],["matColumnDef","editar"],["matColumnDef","excluir"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Selecione a P\xE1gina",3,"length","pageIndex","pageSize","pageSizeOptions"],[1,"legenda"],[1,"legenda-icon"],[3,"visible"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",3,"ngClass"],["mat-button","","matTooltip","Editar",3,"click","ngClass"],["mat-button","","matTooltip","Excluir",3,"click","ngClass"],["mat-header-row",""],["mat-row",""]],template:function(d,r){if(d&1){let m=v();n(0,"mat-card")(1,"mat-card-actions")(2,"button",1),S("click",function(){return g(m),w(r.navegarParaCadProduto())}),a(3,"Novo Produto"),o()(),n(4,"mat-card-header")(5,"mat-card-title"),a(6,"Produtos"),o()(),n(7,"mat-card-content")(8,"table",2),C(9,3),p(10,at,2,0,"th",4)(11,rt,2,4,"td",5),_(),C(12,6),p(13,lt,2,0,"th",4)(14,dt,2,4,"td",5),_(),C(15,7),p(16,mt,2,0,"th",4)(17,st,2,4,"td",5),_(),C(18,8),p(19,ct,2,0,"th",4)(20,pt,2,4,"td",5),_(),C(21,9),p(22,ut,1,0,"th",4)(23,ft,4,6,"td",5),_(),C(24,10),p(25,Ct,1,0,"th",4)(26,_t,4,6,"td",5),_(),p(27,ht,1,0,"tr",11)(28,gt,1,0,"tr",12),o(),u(29,"mat-paginator",13,0),o(),n(31,"div",14),u(32,"span",15),a(33," Produtos Inativos "),o(),u(34,"app-loading-bar",16),o()}d&2&&(s(27),l("matHeaderRowDef",r.displayedColumns),s(),l("matRowDefColumns",r.displayedColumns),s(),l("length",r.dataSource.data.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",F(7,ot)),s(5),l("visible",r.showLoading))},dependencies:[et,b,G,X,J,U,Y,K,W,Z,tt,y,E,B,Q,A,L,j,z,q,O,N,it,$],styles:[".full-width-table[_ngcontent-%COMP%]{width:100%}.produto-inativo[_ngcontent-%COMP%]{color:red!important}.legenda[_ngcontent-%COMP%]{text-align:left;margin-top:10px;margin-bottom:5px;margin-left:15px;display:flex;flex-direction:row;justify-content:flex-start}.legenda-icon[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;background-color:red;border-radius:4px;margin-right:8px;border:1px solid #ced4da}"]})}}return e})();export{Qt as ProdutosComponent};
