import{a as Je}from"./chunk-XCXMUHDY.js";import{a as Ye}from"./chunk-OGJMDVG3.js";import{A as S,B as Q,C as Oe,D as M,E as Le,F as ke,G as J,H as Y,I as Be,J as Ve,K as Z,L as W,aa as He,b as we,ba as je,c as xe,ca as Ge,d as Ae,da as $e,e as Ne,ea as Ue,f as Pe,fa as ze,g as D,h as O,i as Te,j as L,k,l as B,la as Qe,m as V,ma as h,n as H,na as X,p as j,r as G,t as $,u as qe,v as Re,w as De,y as U,z}from"./chunk-E635EJ2W.js";import{$ as F,$b as ve,Ac as _e,Da as pe,Db as v,Fb as A,Gb as N,Gc as Se,Hb as r,Ib as a,Ic as Me,Jb as p,Jc as Ie,Kc as Ee,La as ce,Lc as Fe,Nb as P,Qb as C,S as ne,Sb as T,Z as re,ab as ue,ac as d,bb as m,bc as q,ca as ae,cb as f,cc as R,d as I,db as he,fa as _,gc as b,hb as fe,hc as E,ia as se,ic as Ce,jc as be,mc as ye,na as w,nb as u,oa as x,s as ie,sb as g,ta as de,u as oe,va as me,xb as ge,ya as le,yb as c}from"./chunk-SVLTXY3Q.js";function pt(i,n){i&1&&(r(0,"div")(1,"mat-form-field",10)(2,"mat-label"),d(3,"Id"),a(),p(4,"input",11),a()())}function ct(i,n){i&1&&(r(0,"mat-error"),d(1,"Nome \xE9 "),r(2,"strong"),d(3,"requerido"),a()())}function ut(i,n){i&1&&(r(0,"mat-error"),d(1,"Nome deve ter no m\xEDnimo 3 caracteres"),a())}function ht(i,n){i&1&&(r(0,"mat-error"),d(1,"Descri\xE7\xE3o \xE9 "),r(2,"strong"),d(3,"requerida"),a()())}var ee=(()=>{class i{constructor(e,t,o,s){this.categoriaService=e,this.form=t,this.router=o,this.routeActive=s,this.showLoading=!1,this.categoriaForm=this.form.group({id:[null],nome:["",[k.required,k.minLength(3)]],descricao:["",[k.required]]})}ngOnInit(){this.routeActive!==void 0&&this.routeActive!==null&&this.routeActive.snapshot!==void 0&&this.routeActive.snapshot!==null&&this.routeActive.snapshot.paramMap!==void 0&&this.routeActive.snapshot.paramMap!==null&&this.routeActive.snapshot.paramMap.get("id")!==void 0&&this.routeActive.snapshot.paramMap.get("id")!==null&&this.categoriaService.pegar(Number(this.routeActive.snapshot.paramMap.get("id"))).subscribe(e=>{if(e!=null){let t=e;this.categoriaForm.setValue({id:t.id,nome:t.nome,descricao:t.descricao}),this.categoriaForm.get("id")?.disable()}})}onSubmit(){console.log("Submit",this.categoriaForm.value),this.onSave(this.convertFormBuilderGroupToCategoria())}convertFormBuilderGroupToCategoria(){this.categoriaForm.get("id")?.enable();let e=this.categoriaForm.value;return this.categoriaForm.get("id")?.disable(),{id:e.id??0,nome:e.nome||"",descricao:e.descricao||""}}onSave(e){return I(this,null,function*(){this.showLoading=!0;let t=yield ie(this.categoriaService.salvar(e));console.log("Categoria salva: ",t),this.showLoading=!1,this.router.navigate(["/categorias"])})}cancelar(){this.router.navigate(["/categorias"])}static{this.\u0275fac=function(t){return new(t||i)(f(Je),f($),f(O),f(Pe))}}static{this.\u0275cmp=u({type:i,selectors:[["app-cad-categoria"]],decls:25,vars:7,consts:[["novalidate","",3,"ngSubmit","formGroup"],[4,"ngIf"],[1,"container"],[1,"item-30"],["matInput","","formControlName","nome"],[1,"item-70"],["matInput","","formControlName","descricao"],["mat-raised-button","","color","primary","type","submit",2,"margin-right","8px !important","margin-bottom","16px !important",3,"disabled"],["type","button","mat-raised-button","","color","primary",2,"margin-bottom","16px !important",3,"click"],[3,"visible"],[1,"item-20"],["matInput","","formControlName","id"]],template:function(t,o){if(t&1&&(r(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),d(3,"Categoria"),a()(),r(4,"mat-card-content")(5,"form",0),C("ngSubmit",function(){return o.onSubmit()}),r(6,"div"),g(7,pt,5,0,"div",1),r(8,"div",2)(9,"mat-form-field",3)(10,"mat-label"),d(11,"Nome"),a(),p(12,"input",4),g(13,ct,4,0,"mat-error")(14,ut,2,0,"mat-error"),a(),r(15,"mat-form-field",5)(16,"mat-label"),d(17,"Descri\xE7\xE3o"),a(),p(18,"input",6),g(19,ht,4,0,"mat-error"),a()()(),r(20,"button",7),d(21," Salvar "),a(),r(22,"button",8),C("click",function(){return o.cancelar()}),d(23," Cancelar "),a()()(),p(24,"app-loading-bar",9),a()),t&2){let s;m(5),c("formGroup",o.categoriaForm),m(2),c("ngIf",((s=o.categoriaForm.get("id"))==null?null:s.value)!==null),m(6),v(o.categoriaForm.controls.nome.hasError("required")?13:-1),m(),v(o.categoriaForm.controls.nome.hasError("minlength")?14:-1),m(5),v(o.categoriaForm.controls.descricao.hasError("required")?19:-1),m(),c("disabled",!o.categoriaForm.valid),m(4),c("visible",o.showLoading)}},dependencies:[qe,H,L,B,V,j,G,h,U,W,Z,Be,Ve,S,M,J,Q,Se,X],styles:[".mat-mdc-card-title[_ngcontent-%COMP%]{margin-bottom:10px!important}"]})}}return i})();var Xe=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=u({type:i,selectors:[["app-venda"]],decls:6,vars:0,template:function(t,o){t&1&&(r(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),d(3," Simulador Venda - Produtos Dispon\xEDveis "),a()(),r(4,"mat-card-content"),p(5,"router-outlet"),a()())},dependencies:[h,S,M,J,Q,D],encapsulation:2})}}return i})();var K=(()=>{class i{constructor(){this.CARRINHO="carrinho",this.CARRINHO_QTDE="carrinho_qtde"}getItems(){let e=localStorage.getItem(this.CARRINHO);return e?JSON.parse(e):[]}addItem(e){let t=!1,o=this.getItems();o.forEach(s=>{if(s.produtoId===e.produtoId){if(e.qtdeEstoque!==null&&e.qtdeEstoque!==void 0&&(s.qtdeEstoque=e.qtdeEstoque),s.quantidade!==null){let l=s.qtdeEstoque===null?0:s.qtdeEstoque;s.quantidade+1<=l&&s.quantidade++}t=!0}}),t||o.push(e),localStorage.setItem(this.CARRINHO,JSON.stringify(o)),localStorage.setItem(this.CARRINHO_QTDE,o.length.toString())}removeItem(e){let t=!1,o=this.getItems();o.forEach(l=>{l.produtoId===e.produtoId&&(l.quantidade!==null&&l.quantidade--,t=!0)});let s=o.filter(l=>l.quantidade!==null&&l.quantidade>0);localStorage.setItem(this.CARRINHO,JSON.stringify(s)),localStorage.setItem(this.CARRINHO_QTDE,s.length.toString())}get qtdeItensNoCarrinho(){return this.getItems().length}get valorTotalCarrinho(){let e=0;return this.getItems().forEach(o=>{o.precoUnitario!==null&&o.quantidade!==null&&(e+=o.precoUnitario*o.quantidade)}),e}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=F({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var vt=(i,n)=>n.id;function Ct(i,n){if(i&1){let e=P();r(0,"div",7)(1,"mat-card",9)(2,"mat-card-title-group")(3,"mat-card-subtitle"),d(4),a(),r(5,"mat-card-subtitle")(6,"h3"),d(7),a()(),r(8,"div")(9,"strong"),d(10),b(11,"currency"),a()()(),r(12,"div",10)(13,"mat-card-actions",11)(14,"mat-card-subtitle"),d(15),b(16,"number"),a()(),r(17,"mat-card-actions",12)(18,"button",13),C("click",function(){let o=w(e).$implicit,s=T();return x(s.onAddToCart(o))}),r(19,"mat-icon"),d(20,"add_shopping_cart"),a()()()()()()}if(i&2){let e=n.$implicit;m(4),R(" ",e.categoria==null?null:e.categoria.nome,""),m(3),q(e.descricao),m(3),R("",be(11,5,e.precoUnitario,"BRL","symbol")," "),m(5),R("Qtde Estoque: ",Ce(16,9,e.qtdeEstoque,"1.0-0"),""),m(3),c("disabled",e.qtdeEstoque==0)}}function bt(i,n){i&1&&(r(0,"p"),d(1,"Nenhum produto encontrado."),a())}var Ke=(()=>{class i{constructor(e,t,o){this.produtoService=e,this.vendaService=t,this.form=o,this.showLoading=!1,this.searchForm=this.form.group({searchTerm:[""]})}ngOnInit(){this.showLoading=!0,this.getProdutos().then(()=>{this.showLoading=!1},e=>{console.log("Erro ao carregar Produtos: "+e),this.showLoading=!1})}getProdutos(){return I(this,null,function*(){this.produtos=yield this.produtoService.getProdutosComFiltro(this.searchForm?.value?.searchTerm).toPromise()})}onSearch(){return I(this,null,function*(){this.showLoading=!0,this.getProdutos().then(()=>{this.showLoading=!1},e=>{this.showLoading=!1,console.log("Erro ao carregar Produtos: "+e)})})}onAddToCart(e){let t={produtoId:e.id,descricao:e.descricao,qtdeEstoque:e.qtdeEstoque,quantidade:1,precoUnitario:e.precoUnitario};this.vendaService.addItem(t)}static{this.\u0275fac=function(t){return new(t||i)(f(Ye),f(K),f($))}}static{this.\u0275cmp=u({type:i,selectors:[["app-produto-lista"]],decls:15,vars:3,consts:[["novalidate","",3,"ngSubmit","formGroup"],[1,"container"],[1,"width-full"],["matInput","","placeholder","Produtos","formControlName","searchTerm"],[1,"pt-10"],["mat-button","","type","submit"],[1,"container","wrap"],[2,"width","300px"],[3,"visible"],[1,"p-5"],[2,"display","flex","flex-direction","row","justify-content","space-between"],["align","start",2,"padding","0px"],["align","end",2,"padding","0px"],["mat-icon-button","",3,"click","disabled"]],template:function(t,o){t&1&&(r(0,"mat-card")(1,"mat-card-content")(2,"form",0),C("ngSubmit",function(){return o.onSearch()}),r(3,"div")(4,"div",1)(5,"mat-form-field",2),p(6,"input",3),a(),r(7,"div",4)(8,"button",5),d(9,"Pesquisar"),a()()()()(),r(10,"div",6),A(11,Ct,21,12,"div",7,vt),g(13,bt,2,0,"p"),a()(),p(14,"app-loading-bar",8),a()),t&2&&(m(2),c("formGroup",o.searchForm),m(9),N(o.produtos),m(2),v(!o.produtos||o.produtos.length===0?13:-1),m(),c("visible",o.showLoading))},dependencies:[h,U,z,Y,W,Z,H,L,B,V,j,G,S,ke,M,Le,Oe,X,Ee,Ie],styles:["h3[_ngcontent-%COMP%]{display:block;font-size:.9em;margin-block-start:1em;margin-block-end:1em;margin-inline-start:0px;margin-inline-end:0px;font-weight:700;unicode-bidi:isolate;font:600 .9rem/1.2rem Roboto,sans-serif}"]})}}return i})();var et=[{path:"categorias",loadComponent:()=>import("./chunk-P444AKB6.js").then(i=>i.CategoriasComponent)},{path:"cad-categoria",component:ee},{path:"cad-categoria-edit/:id",component:ee},{path:"fornecedores",loadComponent:()=>import("./chunk-JV2P6MES.js").then(i=>i.FornecedoresComponent)},{path:"cad-fornecedor",loadComponent:()=>import("./chunk-6EGC6JXQ.js").then(i=>i.CadFornecedorComponent)},{path:"cad-fornecedor-edit/:id",loadComponent:()=>import("./chunk-6EGC6JXQ.js").then(i=>i.CadFornecedorComponent)},{path:"produtos",loadComponent:()=>import("./chunk-KPVSNJCN.js").then(i=>i.ProdutosComponent)},{path:"cad-produto",loadComponent:()=>import("./chunk-WYDFX553.js").then(i=>i.CadProdutoComponent)},{path:"cad-produto-edit/:id",loadComponent:()=>import("./chunk-WYDFX553.js").then(i=>i.CadProdutoComponent)},{path:"",component:Xe,children:[{path:"",component:Ke}]}];var yt="@",_t=(()=>{class i{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=_(de);loadingSchedulerFn=_(St,{optional:!0});_engine;constructor(e,t,o,s,l){this.doc=e,this.delegate=t,this.zone=o,this.animationType=s,this.moduleImpl=l}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-FWUIGTXN.js").then(o=>o),t;return this.loadingSchedulerFn?t=this.loadingSchedulerFn(e):t=e(),t.catch(o=>{throw new re(5300,!1)}).then(({\u0275createEngine:o,\u0275AnimationRendererFactory:s})=>{this._engine=o(this.animationType,this.doc);let l=new s(this.delegate,this._engine,this.zone);return this.delegate=l,l})}createRenderer(e,t){let o=this.delegate.createRenderer(e,t);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let s=new te(o);return t?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(l=>{let at=l.createRenderer(e,t);s.use(at),this.scheduler??=this.injector.get(me,null,{optional:!0}),this.scheduler?.notify(11)}).catch(l=>{s.use(o)}),s}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(e){this._engine?.flush(),this.delegate.componentReplaced?.(e)}static \u0275fac=function(t){he()};static \u0275prov=F({token:i,factory:i.\u0275fac})}return i})(),te=class{delegate;replay=[];\u0275type=1;constructor(n){this.delegate=n}use(n){if(this.delegate=n,this.replay!==null){for(let e of this.replay)e(n);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}get destroyNode(){return this.delegate.destroyNode}appendChild(n,e){this.delegate.appendChild(n,e)}insertBefore(n,e,t,o){this.delegate.insertBefore(n,e,t,o)}removeChild(n,e,t){this.delegate.removeChild(n,e,t)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,t,o){this.delegate.setAttribute(n,e,t,o)}removeAttribute(n,e,t){this.delegate.removeAttribute(n,e,t)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,t,o){this.delegate.setStyle(n,e,t,o)}removeStyle(n,e,t){this.delegate.removeStyle(n,e,t)}setProperty(n,e,t){this.shouldReplay(e)&&this.replay.push(o=>o.setProperty(n,e,t)),this.delegate.setProperty(n,e,t)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,t,o){return this.shouldReplay(e)&&this.replay.push(s=>s.listen(n,e,t,o)),this.delegate.listen(n,e,t,o)}shouldReplay(n){return this.replay!==null&&n.startsWith(yt)}},St=new ae("");function tt(i="animations"){return pe("NgAsyncAnimations"),se([{provide:fe,useFactory:(n,e,t)=>new _t(n,e,t,i),deps:[_e,xe,le]},{provide:ce,useValue:i==="noop"?"NoopAnimations":"BrowserAnimations"}])}var it={providers:[ye({eventCoalescing:!0}),Te(et),tt(),we()]};var It=(i,n)=>n.path;function Et(i,n){if(i&1&&(r(0,"a",0),d(1),a()),i&2){let e=n.$implicit;c("href",e.path,ue),m(),q(e.label)}}var ot=(()=>{class i{constructor(){this.menuItems=[{path:"",label:"Simula\xE7\xE3o Vendas"},{path:"categorias",label:"Categorias"},{path:"fornecedores",label:"Fornecedores"},{path:"produtos",label:"Produtos"}]}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=u({type:i,selectors:[["app-menu"]],decls:2,vars:0,consts:[["mat-list-item","",3,"href"]],template:function(t,o){t&1&&A(0,Et,2,2,"a",0,It),t&2&&N(o.menuItems)},dependencies:[h,Ue],encapsulation:2})}}return i})();function Ft(i,n){if(i&1){let e=P();r(0,"button",9),C("click",function(){w(e),T();let o=ve(2);return x(o.toggle())}),r(1,"mat-icon",10),d(2,"menu"),a()()}}var nt=(()=>{class i{constructor(){this.breakpointObserver=_(Re),this.vendaService=_(K),this.isHandset$=this.breakpointObserver.observe(De.Handset).pipe(oe(e=>e.matches),ne())}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=u({type:i,selectors:[["app-home"]],decls:22,vars:13,consts:[["drawer",""],[1,"sidenav-container"],["fixedInViewport","",1,"sidenav",3,"mode","opened"],["color","primary",2,"position","relative !important"],["type","button","aria-label","Toggle sidenav","mat-icon-button",""],[1,"width-full"],["mat-icon-button",""],["matBadgeColor","warn",3,"matBadge"],[1,"m-10"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Side nav toggle icon"]],template:function(t,o){t&1&&(r(0,"mat-sidenav-container",1)(1,"mat-sidenav",2,0),b(3,"async"),b(4,"async"),b(5,"async"),r(6,"mat-toolbar"),d(7,"Menu"),a(),r(8,"mat-nav-list"),p(9,"app-menu"),a()(),r(10,"mat-sidenav-content")(11,"mat-toolbar",3),g(12,Ft,3,0,"button",4),b(13,"async"),r(14,"span"),d(15,"Simulador Vendas App"),a(),p(16,"div",5),r(17,"button",6)(18,"mat-icon",7),d(19," shopping_cart "),a()()(),r(20,"div",8),p(21,"router-outlet"),a()()()),t&2&&(m(),c("mode",E(3,5,o.isHandset$)?"over":"side")("opened",E(4,7,o.isHandset$)===!1),ge("role",E(5,9,o.isHandset$)?"dialog":"navigation"),m(11),v(E(13,11,o.isHandset$)?12:-1),m(6),c("matBadge",o.vendaService.qtdeItensNoCarrinho))},dependencies:[h,z,Y,He,Ge,$e,je,ze,Qe,Me,ot,D],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:200px}.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background:inherit}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1;--mat-toolbar-container-background-color: #3f51b5;--mat-toolbar-container-text-color: white}.mat-badge-warn[_ngcontent-%COMP%]{--mat-badge-background-color: #f44336;--mat-badge-text-color: white}.mat-mdc-icon-button[_ngcontent-%COMP%]{color:#fff!important}"]})}}return i})();var rt=(()=>{class i{constructor(e){this.router=e}ngOnInit(){this.router.events.subscribe(e=>{e instanceof Ne&&setTimeout(()=>{this.updatePaginatorLabels()},0)})}updatePaginatorLabels(){document.querySelectorAll(".mat-mdc-paginator-page-size-label").forEach(t=>{t.innerHTML="Itens por p\xE1gina"})}static{this.\u0275fac=function(t){return new(t||i)(f(O))}}static{this.\u0275cmp=u({type:i,selectors:[["app-root"]],decls:1,vars:0,template:function(t,o){t&1&&p(0,"app-home")},dependencies:[Fe,h,nt],encapsulation:2})}}return i})();Ae(rt,it).catch(i=>console.error(i));
