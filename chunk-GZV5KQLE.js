import{a as ee}from"./chunk-5LEE6PLE.js";import{A as L,C as $,D as P,E as q,K as j,L as M,M as v,N as A,O as E,P as B,Q as O,R as N,S as G,T as J,U as K,V as U,W,X,Y as y,h as I,ja as Y,ka as Z,w as z,y as H,z as Q}from"./chunk-P3YZ4GKF.js";import{Hb as o,Ib as n,Jb as s,Kb as p,Lb as u,Nb as h,Qb as w,Sb as T,Wb as S,Xb as g,Yb as F,ac as m,bb as d,bc as x,cb as D,d as b,ec as V,na as C,nb as k,oa as _,sb as c,t as R,yb as f}from"./chunk-DSNXJSX2.js";var te=()=>[5,10,20];function ie(t,i){t&1&&(o(0,"th",14),m(1,"Id"),n())}function oe(t,i){if(t&1&&(o(0,"td",15),m(1),n()),t&2){let e=i.$implicit;d(),x(e.id)}}function ne(t,i){t&1&&(o(0,"th",14),m(1,"Raz\xE3o Social"),n())}function ae(t,i){if(t&1&&(o(0,"td",15),m(1),n()),t&2){let e=i.$implicit;d(),x(e.razaoSocial)}}function re(t,i){t&1&&(o(0,"th",14),m(1,"T\xEDtulo Contato"),n())}function le(t,i){if(t&1&&(o(0,"td",15),m(1),n()),t&2){let e=i.$implicit;d(),x(e.tituloContato)}}function me(t,i){t&1&&s(0,"th",14)}function de(t,i){if(t&1){let e=h();o(0,"td",15)(1,"button",16),w("click",function(){let a=C(e).$implicit,l=T();return _(l.onClickEditar(a))}),o(2,"mat-icon"),m(3,"edit"),n()()()}}function ce(t,i){t&1&&s(0,"th",14)}function se(t,i){if(t&1){let e=h();o(0,"td",15)(1,"button",17),w("click",function(){let a=C(e).$implicit,l=T();return _(l.onClickDeletar(a))}),o(2,"mat-icon"),m(3,"delete"),n()()()}}function pe(t,i){t&1&&s(0,"tr",18)}function ue(t,i){t&1&&s(0,"tr",19)}var ke=(()=>{class t{constructor(e,r){this.fornecedorService=e,this.router=r,this.dataSource=new y,this.showLoading=!1,this.displayedColumns=["id","razaoSocial","tituloContato","editar","excluir"]}ngAfterViewInit(){this.loadFornecedores()}loadFornecedores(){return b(this,null,function*(){this.showLoading=!0;let e=yield R(this.fornecedorService.getFornecedores());this.dataSource=new y(e),this.table.dataSource=this.dataSource,this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator,this.showLoading=!1})}navegarParaCadFornecedor(){this.router.navigate(["/cad-fornecedor"])}onClickEditar(e){console.log("Editando Fornecedor: ",e),e!=null&&e.id!==void 0&&e.id!==null&&this.router.navigate(["/cad-fornecedor-edit",e.id])}onClickDeletar(e){return b(this,null,function*(){console.log("Excluindo Fornecedor: ",e),e!=null&&e.id!==void 0&&e.id!==null&&confirm(`Deletar Fornecedor (${e.id}) ${e.razaoSocial} ?`)&&(this.showLoading=!0,this.fornecedorService.deletar(e.id).subscribe(r=>{this.showLoading=!1,this.loadFornecedores()}))})}static{this.\u0275fac=function(r){return new(r||t)(D(ee),D(I))}}static{this.\u0275cmp=k({type:t,selectors:[["app-fornecedores"]],viewQuery:function(r,a){if(r&1&&(S(M,5),S(v,5),S(E,5)),r&2){let l;g(l=F())&&(a.paginator=l.first),g(l=F())&&(a.sort=l.first),g(l=F())&&(a.table=l.first)}},decls:29,vars:8,consts:[["Paginator",""],["mat-raised-button","",3,"click"],["mat-table","","matSort","","aria-label","Elements",1,"full-width-table"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","razaoSocial"],["matColumnDef","tituloContato"],["matColumnDef","editar"],["matColumnDef","excluir"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Selecione a P\xE1gina",3,"length","pageIndex","pageSize","pageSizeOptions"],[3,"visible"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-button","","matTooltip","Editar",3,"click"],["mat-button","","matTooltip","Excluir",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(r,a){if(r&1){let l=h();o(0,"mat-card")(1,"mat-card-actions")(2,"button",1),w("click",function(){return C(l),_(a.navegarParaCadFornecedor())}),m(3,"Novo Fornecedor"),n()(),o(4,"mat-card-header")(5,"mat-card-title"),m(6,"Fornecedores"),n()(),o(7,"mat-card-content")(8,"table",2),p(9,3),c(10,ie,2,0,"th",4)(11,oe,2,1,"td",5),u(),p(12,6),c(13,ne,2,0,"th",4)(14,ae,2,1,"td",5),u(),p(15,7),c(16,re,2,0,"th",4)(17,le,2,1,"td",5),u(),p(18,8),c(19,me,1,0,"th",4)(20,de,4,0,"td",5),u(),p(21,9),c(22,ce,1,0,"th",4)(23,se,4,0,"td",5),u(),c(24,pe,1,0,"tr",10)(25,ue,1,0,"tr",11),n(),s(26,"mat-paginator",12,0),n(),s(28,"app-loading-bar",13),n()}r&2&&(d(24),f("matHeaderRowDef",a.displayedColumns),d(),f("matRowDefColumns",a.displayedColumns),d(),f("length",a.dataSource.data.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",V(7,te)),d(2),f("visible",a.showLoading))},dependencies:[Y,E,O,K,N,B,U,G,J,W,X,M,v,A,z,q,H,$,L,P,Q,j,Z],encapsulation:2})}}return t})();export{ke as FornecedoresComponent};
