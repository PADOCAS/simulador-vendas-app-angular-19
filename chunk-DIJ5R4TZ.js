import{a as V}from"./chunk-RFNBM4CD.js";import{a as G}from"./chunk-4Y7K6X2Y.js";import{a as j}from"./chunk-GDKL2EOO.js";import{A as T,B as E,C as b,E as y,G as M,I as x,P as D,S as I,X as N,ja as q,t as L,x as F,y as w}from"./chunk-GNPPUD43.js";import{Ab as p,Fb as _,Hb as C,Ib as v,Jb as r,Kb as n,Lb as c,Sb as P,Ub as S,bb as d,cb as m,cc as s,d as l,nb as f,sb as u,xb as h,yb as g}from"./chunk-VAOQOUOU.js";var B=(t,a)=>a.id,O=()=>[import("./chunk-K34BAH56.js").then(t=>t.ProdutoCardComponent)];function A(t,a){if(t&1&&c(0,"app-produto-card",8),t&2){let e=S().$implicit;p("produto",e)}}function U(t,a){t&1&&(r(0,"span"),s(1,"Carregando..."),n())}function $(t,a){t&1&&(r(0,"span"),s(1,"Carregando..."),n())}function k(t,a){t&1&&(u(0,A,1,1)(1,U,2,0)(2,$,2,0),h(3,0,O,1,2),g(0,-1))}function z(t,a){t&1&&(r(0,"p"),s(1,"Nenhum produto encontrado."),n())}var ot=(()=>{class t{constructor(e,o,i){this.produtoService=e,this.vendaService=o,this.form=i,this.showLoading=!1,this.searchForm=this.form.group({searchTerm:[""]})}ngOnInit(){this.showLoading=!0,this.getProdutos().then(()=>{this.showLoading=!1},e=>{console.log("Erro ao carregar Produtos: "+e),this.showLoading=!1})}getProdutos(){return l(this,null,function*(){this.produtos=yield this.produtoService.getProdutosComFiltro(this.searchForm?.value?.searchTerm).toPromise()})}onSearch(){return l(this,null,function*(){this.showLoading=!0,this.getProdutos().then(()=>{this.showLoading=!1},e=>{this.showLoading=!1,console.log("Erro ao carregar Produtos: "+e)})})}onAddToCart(e){let o={produtoId:e.id,descricao:e.descricao,qtdeEstoque:e.qtdeEstoque,quantidade:1,precoUnitario:e.precoUnitario};this.vendaService.addItem(o)}static{this.\u0275fac=function(o){return new(o||t)(m(V),m(j),m(x))}}static{this.\u0275cmp=f({type:t,selectors:[["app-produto-lista"]],decls:15,vars:3,consts:[["novalidate","",3,"ngSubmit","formGroup"],[1,"container"],[1,"width-full"],["matInput","","placeholder","Produtos","formControlName","searchTerm"],[1,"pt-10"],["mat-button","","type","submit"],[1,"container","wrap"],[3,"visible"],[3,"produto"]],template:function(o,i){o&1&&(r(0,"mat-card")(1,"mat-card-content")(2,"form",0),P("ngSubmit",function(){return i.onSearch()}),r(3,"div")(4,"div",1)(5,"mat-form-field",2),c(6,"input",3),n(),r(7,"div",4)(8,"button",5),s(9,"Pesquisar"),n()()()()(),r(10,"div",6),C(11,k,5,0,null,null,B),u(13,z,2,0,"p"),n()(),c(14,"app-loading-bar",7),n()),o&2&&(d(2),p("formGroup",i.searchForm),d(9),v(i.produtos),d(2),_(!i.produtos||i.produtos.length===0?13:-1),d(),p("visible",i.showLoading))},dependencies:[q,L,N,F,b,w,T,E,y,M,D,I,G],styles:[".mat-mdc-card-content[_ngcontent-%COMP%]{padding-bottom:16px}"]})}}return t})();export{ot as ProdutoListaComponent};
