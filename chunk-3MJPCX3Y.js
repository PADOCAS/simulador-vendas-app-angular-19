import{a as tt}from"./chunk-V24UY7B3.js";import{A as $,C as z,D as q,E as B,K as F,L as v,M as E,N as O,O as b,P as j,Q as A,R as N,S as G,T as J,U as K,V as U,W,X,Y as k,h as H,ja as Y,ka as Z,w as Q,y as L,z as P}from"./chunk-P3YZ4GKF.js";import{Hb as a,Ib as n,Jb as c,Kb as p,Lb as u,Nb as g,Qb as h,Sb as T,Wb as w,Xb as S,Yb as M,ac as m,bb as d,bc as x,cb as D,d as y,ec as I,na as f,nb as V,oa as _,sb as s,t as R,yb as C}from"./chunk-DSNXJSX2.js";var et=()=>[5,10,20];function it(e,i){e&1&&(a(0,"th",14),m(1,"Id"),n())}function at(e,i){if(e&1&&(a(0,"td",15),m(1),n()),e&2){let t=i.$implicit;d(),x(t.id)}}function nt(e,i){e&1&&(a(0,"th",14),m(1,"Nome"),n())}function ot(e,i){if(e&1&&(a(0,"td",15),m(1),n()),e&2){let t=i.$implicit;d(),x(t.nome)}}function rt(e,i){e&1&&(a(0,"th",14),m(1,"Descri\xE7\xE3o"),n())}function lt(e,i){if(e&1&&(a(0,"td",15),m(1),n()),e&2){let t=i.$implicit;d(),x(t.descricao)}}function mt(e,i){e&1&&c(0,"th",14)}function dt(e,i){if(e&1){let t=g();a(0,"td",15)(1,"button",16),h("click",function(){let o=f(t).$implicit,l=T();return _(l.onClickEditar(o))}),a(2,"mat-icon"),m(3,"edit"),n()()()}}function st(e,i){e&1&&c(0,"th",14)}function ct(e,i){if(e&1){let t=g();a(0,"td",15)(1,"button",17),h("click",function(){let o=f(t).$implicit,l=T();return _(l.onClickDeletar(o))}),a(2,"mat-icon"),m(3,"delete"),n()()()}}function pt(e,i){e&1&&c(0,"tr",18)}function ut(e,i){e&1&&c(0,"tr",19)}var Vt=(()=>{class e{constructor(t,r){this.categoriaService=t,this.router=r,this.dataSource=new k,this.showLoading=!1,this.displayedColumns=["id","nome","descricao","editar","excluir"]}ngAfterViewInit(){this.loadCategorias()}loadCategorias(){return y(this,null,function*(){this.showLoading=!0;let t=yield R(this.categoriaService.getCategorias());this.dataSource=new k(t),this.table.dataSource=this.dataSource,this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator,this.showLoading=!1})}navegarParaCadCategoria(){this.router.navigate(["/cad-categoria"])}onClickEditar(t){console.log("Editando Categoria: ",t),t!=null&&t.id!==void 0&&t.id!==null&&this.router.navigate(["/cad-categoria-edit",t.id])}onClickDeletar(t){return y(this,null,function*(){console.log("Excluindo Categoria: ",t),t!=null&&t.id!==void 0&&t.id!==null&&confirm(`Deletar Categoria (${t.id}) ${t.nome} ?`)&&(this.showLoading=!0,this.categoriaService.deletar(t.id).subscribe(r=>{this.showLoading=!1,this.loadCategorias()}))})}static{this.\u0275fac=function(r){return new(r||e)(D(tt),D(H))}}static{this.\u0275cmp=V({type:e,selectors:[["app-categorias"]],viewQuery:function(r,o){if(r&1&&(w(v,5),w(E,5),w(b,5)),r&2){let l;S(l=M())&&(o.paginator=l.first),S(l=M())&&(o.sort=l.first),S(l=M())&&(o.table=l.first)}},decls:29,vars:8,consts:[["Paginator",""],["mat-raised-button","",3,"click"],["mat-table","","matSort","","aria-label","Elements",1,"full-width-table"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nome"],["matColumnDef","descricao"],["matColumnDef","editar"],["matColumnDef","excluir"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Selecione a P\xE1gina",3,"length","pageIndex","pageSize","pageSizeOptions"],[3,"visible"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-button","","matTooltip","Editar",3,"click"],["mat-button","","matTooltip","Excluir",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(r,o){if(r&1){let l=g();a(0,"mat-card")(1,"mat-card-actions")(2,"button",1),h("click",function(){return f(l),_(o.navegarParaCadCategoria())}),m(3,"Nova Categoria"),n()(),a(4,"mat-card-header")(5,"mat-card-title"),m(6,"Categorias"),n()(),a(7,"mat-card-content")(8,"table",2),p(9,3),s(10,it,2,0,"th",4)(11,at,2,1,"td",5),u(),p(12,6),s(13,nt,2,0,"th",4)(14,ot,2,1,"td",5),u(),p(15,7),s(16,rt,2,0,"th",4)(17,lt,2,1,"td",5),u(),p(18,8),s(19,mt,1,0,"th",4)(20,dt,4,0,"td",5),u(),p(21,9),s(22,st,1,0,"th",4)(23,ct,4,0,"td",5),u(),s(24,pt,1,0,"tr",10)(25,ut,1,0,"tr",11),n(),c(26,"mat-paginator",12,0),n(),c(28,"app-loading-bar",13),n()}r&2&&(d(24),C("matHeaderRowDef",o.displayedColumns),d(),C("matRowDefColumns",o.displayedColumns),d(),C("length",o.dataSource.data.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",I(7,et)),d(2),C("visible",o.showLoading))},dependencies:[Y,b,A,K,N,j,U,G,J,W,X,v,E,O,Q,B,L,z,$,q,P,F,Z],styles:[".full-width-table[_ngcontent-%COMP%]{width:100%}"]})}}return e})();export{Vt as CategoriasComponent};
